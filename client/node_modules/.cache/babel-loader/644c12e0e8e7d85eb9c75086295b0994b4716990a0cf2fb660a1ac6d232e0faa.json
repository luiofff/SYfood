{"ast":null,"code":"/* eslint-disable valid-jsdoc */\nimport React from 'react';\n/**\n * Used to shape props for input with type \"file\".\n *\n * Usage example:\n ```tsx\n    import React from 'react';\n    import {Button, useFileInput} from '@gravity-ui/uikit';\n    \n    const Component = () => {\n        const onUpdate = React.useCallback((files: File[]) => console.log(files), []);\n        const {controlProps, triggerProps} = useFileInput({onUpdate});\n        \n        return (\n            <React.Fragment>\n                <input {...controlProps} />\n                <Button {...triggerProps}>Upload</Button>\n            </React.Fragment>\n        );\n    };\n```\n*/\nexport function useFileInput({\n  onUpdate,\n  onChange\n}) {\n  const ref = React.useRef(null);\n  const handleChange = React.useCallback(event => {\n    onChange === null || onChange === void 0 ? void 0 : onChange(event);\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(Array.from(event.target.files || []));\n    // https://stackoverflow.com/a/12102992\n    event.target.value = '';\n  }, [onChange, onUpdate]);\n  const openDeviceStorage = React.useCallback(() => {\n    var _a;\n    (_a = ref.current) === null || _a === void 0 ? void 0 : _a.click();\n  }, []);\n  const result = React.useMemo(() => ({\n    controlProps: {\n      ref,\n      type: 'file',\n      tabIndex: -1,\n      style: {\n        opacity: 0,\n        position: 'absolute',\n        width: 1,\n        height: 1\n      },\n      onChange: handleChange\n    },\n    triggerProps: {\n      onClick: openDeviceStorage\n    }\n  }), [handleChange, openDeviceStorage]);\n  return result;\n}","map":{"version":3,"names":["React","useFileInput","onUpdate","onChange","ref","useRef","handleChange","useCallback","event","Array","from","target","files","value","openDeviceStorage","_a","current","click","result","useMemo","controlProps","type","tabIndex","style","opacity","position","width","height","triggerProps","onClick"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/utils/useFileInput/useFileInput.js"],"sourcesContent":["/* eslint-disable valid-jsdoc */\nimport React from 'react';\n/**\n * Used to shape props for input with type \"file\".\n *\n * Usage example:\n ```tsx\n    import React from 'react';\n    import {Button, useFileInput} from '@gravity-ui/uikit';\n    \n    const Component = () => {\n        const onUpdate = React.useCallback((files: File[]) => console.log(files), []);\n        const {controlProps, triggerProps} = useFileInput({onUpdate});\n        \n        return (\n            <React.Fragment>\n                <input {...controlProps} />\n                <Button {...triggerProps}>Upload</Button>\n            </React.Fragment>\n        );\n    };\n```\n*/\nexport function useFileInput({ onUpdate, onChange }) {\n    const ref = React.useRef(null);\n    const handleChange = React.useCallback((event) => {\n        onChange === null || onChange === void 0 ? void 0 : onChange(event);\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(Array.from(event.target.files || []));\n        // https://stackoverflow.com/a/12102992\n        event.target.value = '';\n    }, [onChange, onUpdate]);\n    const openDeviceStorage = React.useCallback(() => {\n        var _a;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.click();\n    }, []);\n    const result = React.useMemo(() => ({\n        controlProps: {\n            ref,\n            type: 'file',\n            tabIndex: -1,\n            style: { opacity: 0, position: 'absolute', width: 1, height: 1 },\n            onChange: handleChange,\n        },\n        triggerProps: {\n            onClick: openDeviceStorage,\n        },\n    }), [handleChange, openDeviceStorage]);\n    return result;\n}\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EACjD,MAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMC,YAAY,GAAGN,KAAK,CAACO,WAAW,CAAEC,KAAK,IAAK;IAC9CL,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACK,KAAK,CAAC;IACnEN,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACO,KAAK,CAACC,IAAI,CAACF,KAAK,CAACG,MAAM,CAACC,KAAK,IAAI,EAAE,CAAC,CAAC;IAClG;IACAJ,KAAK,CAACG,MAAM,CAACE,KAAK,GAAG,EAAE;EAC3B,CAAC,EAAE,CAACV,QAAQ,EAAED,QAAQ,CAAC,CAAC;EACxB,MAAMY,iBAAiB,GAAGd,KAAK,CAACO,WAAW,CAAC,MAAM;IAC9C,IAAIQ,EAAE;IACN,CAACA,EAAE,GAAGX,GAAG,CAACY,OAAO,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,KAAK,CAAC,CAAC;EACtE,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,MAAM,GAAGlB,KAAK,CAACmB,OAAO,CAAC,OAAO;IAChCC,YAAY,EAAE;MACVhB,GAAG;MACHiB,IAAI,EAAE,MAAM;MACZC,QAAQ,EAAE,CAAC,CAAC;MACZC,KAAK,EAAE;QAAEC,OAAO,EAAE,CAAC;QAAEC,QAAQ,EAAE,UAAU;QAAEC,KAAK,EAAE,CAAC;QAAEC,MAAM,EAAE;MAAE,CAAC;MAChExB,QAAQ,EAAEG;IACd,CAAC;IACDsB,YAAY,EAAE;MACVC,OAAO,EAAEf;IACb;EACJ,CAAC,CAAC,EAAE,CAACR,YAAY,EAAEQ,iBAAiB,CAAC,CAAC;EACtC,OAAOI,MAAM;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}