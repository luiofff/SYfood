{"ast":null,"code":"import React from 'react';\nimport { Button } from '../../Button';\nimport { Popup } from '../../Popup';\nimport { block } from '../../utils/cn';\nimport './DialogFooter.css';\nconst b = block('dialog-footer');\nfunction getButtonView(preset) {\n  switch (preset) {\n    case 'default':\n      return 'action';\n    case 'success':\n      return 'action';\n    case 'danger':\n      return 'action';\n    default:\n      return 'action';\n  }\n}\nexport class DialogFooter extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.errorTooltipRef = React.createRef();\n    this.handleKeyDown = event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        if (this.props.onClickButtonApply) {\n          this.props.onClickButtonApply(event);\n        }\n      }\n    };\n  }\n  componentDidMount() {\n    if (this.props.listenKeyEnter) {\n      this.attachKeyDownListeners();\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (!this.props.listenKeyEnter && prevProps.listenKeyEnter) {\n      this.detachKeyDownListeners();\n    }\n    if (this.props.listenKeyEnter && !prevProps.listenKeyEnter) {\n      this.attachKeyDownListeners();\n    }\n  }\n  componentWillUnmount() {\n    this.detachKeyDownListeners();\n  }\n  render() {\n    const {\n      onClickButtonCancel,\n      onClickButtonApply,\n      loading,\n      textButtonCancel,\n      textButtonApply,\n      propsButtonCancel,\n      propsButtonApply,\n      preset,\n      children,\n      errorText,\n      showError,\n      renderButtons\n    } = this.props;\n    const buttonCancel = React.createElement(\"div\", {\n      className: b('button', {\n        action: 'cancel'\n      })\n    }, React.createElement(Button, Object.assign({\n      view: textButtonApply ? 'flat' : 'normal',\n      size: \"l\",\n      width: \"max\",\n      onClick: onClickButtonCancel,\n      disabled: loading\n    }, propsButtonCancel), textButtonCancel));\n    const buttonApply = React.createElement(\"div\", {\n      className: b('button', {\n        action: 'apply'\n      })\n    }, React.createElement(Button, Object.assign({\n      ref: this.errorTooltipRef,\n      type: \"submit\",\n      view: getButtonView(preset),\n      size: \"l\",\n      width: \"max\",\n      onClick: onClickButtonApply,\n      loading: loading,\n      className: b('button-apply', {\n        preset\n      })\n    }, propsButtonApply), textButtonApply), errorText && React.createElement(Popup, {\n      open: showError,\n      anchorRef: this.errorTooltipRef,\n      placement: ['bottom', 'top'],\n      disableLayer: true,\n      hasArrow: true\n    }, React.createElement(\"div\", {\n      className: b('error')\n    }, errorText)));\n    return React.createElement(\"div\", {\n      className: b()\n    }, React.createElement(\"div\", {\n      className: b('children')\n    }, children), React.createElement(\"div\", {\n      className: b('bts-wrapper')\n    }, renderButtons ? renderButtons(buttonApply, buttonCancel) : React.createElement(React.Fragment, null, textButtonCancel && buttonCancel, textButtonApply && buttonApply)));\n  }\n  attachKeyDownListeners() {\n    setTimeout(() => {\n      window.addEventListener('keydown', this.handleKeyDown);\n    }, 0);\n  }\n  detachKeyDownListeners() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n}\nDialogFooter.defaultProps = {\n  preset: 'default',\n  showError: false,\n  listenKeyEnter: false\n};","map":{"version":3,"names":["React","Button","Popup","block","b","getButtonView","preset","DialogFooter","Component","constructor","arguments","errorTooltipRef","createRef","handleKeyDown","event","key","preventDefault","props","onClickButtonApply","componentDidMount","listenKeyEnter","attachKeyDownListeners","componentDidUpdate","prevProps","detachKeyDownListeners","componentWillUnmount","render","onClickButtonCancel","loading","textButtonCancel","textButtonApply","propsButtonCancel","propsButtonApply","children","errorText","showError","renderButtons","buttonCancel","createElement","className","action","Object","assign","view","size","width","onClick","disabled","buttonApply","ref","type","open","anchorRef","placement","disableLayer","hasArrow","Fragment","setTimeout","window","addEventListener","removeEventListener","defaultProps"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Dialog/DialogFooter/DialogFooter.js"],"sourcesContent":["import React from 'react';\nimport { Button } from '../../Button';\nimport { Popup } from '../../Popup';\nimport { block } from '../../utils/cn';\nimport './DialogFooter.css';\nconst b = block('dialog-footer');\nfunction getButtonView(preset) {\n    switch (preset) {\n        case 'default':\n            return 'action';\n        case 'success':\n            return 'action';\n        case 'danger':\n            return 'action';\n        default:\n            return 'action';\n    }\n}\nexport class DialogFooter extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.errorTooltipRef = React.createRef();\n        this.handleKeyDown = (event) => {\n            if (event.key === 'Enter') {\n                event.preventDefault();\n                if (this.props.onClickButtonApply) {\n                    this.props.onClickButtonApply(event);\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        if (this.props.listenKeyEnter) {\n            this.attachKeyDownListeners();\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (!this.props.listenKeyEnter && prevProps.listenKeyEnter) {\n            this.detachKeyDownListeners();\n        }\n        if (this.props.listenKeyEnter && !prevProps.listenKeyEnter) {\n            this.attachKeyDownListeners();\n        }\n    }\n    componentWillUnmount() {\n        this.detachKeyDownListeners();\n    }\n    render() {\n        const { onClickButtonCancel, onClickButtonApply, loading, textButtonCancel, textButtonApply, propsButtonCancel, propsButtonApply, preset, children, errorText, showError, renderButtons, } = this.props;\n        const buttonCancel = (React.createElement(\"div\", { className: b('button', { action: 'cancel' }) },\n            React.createElement(Button, Object.assign({ view: textButtonApply ? 'flat' : 'normal', size: \"l\", width: \"max\", onClick: onClickButtonCancel, disabled: loading }, propsButtonCancel), textButtonCancel)));\n        const buttonApply = (React.createElement(\"div\", { className: b('button', { action: 'apply' }) },\n            React.createElement(Button, Object.assign({ ref: this.errorTooltipRef, type: \"submit\", view: getButtonView(preset), size: \"l\", width: \"max\", onClick: onClickButtonApply, loading: loading, className: b('button-apply', { preset }) }, propsButtonApply), textButtonApply),\n            errorText && (React.createElement(Popup, { open: showError, anchorRef: this.errorTooltipRef, placement: ['bottom', 'top'], disableLayer: true, hasArrow: true },\n                React.createElement(\"div\", { className: b('error') }, errorText)))));\n        return (React.createElement(\"div\", { className: b() },\n            React.createElement(\"div\", { className: b('children') }, children),\n            React.createElement(\"div\", { className: b('bts-wrapper') }, renderButtons ? (renderButtons(buttonApply, buttonCancel)) : (React.createElement(React.Fragment, null,\n                textButtonCancel && buttonCancel,\n                textButtonApply && buttonApply)))));\n    }\n    attachKeyDownListeners() {\n        setTimeout(() => {\n            window.addEventListener('keydown', this.handleKeyDown);\n        }, 0);\n    }\n    detachKeyDownListeners() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    }\n}\nDialogFooter.defaultProps = {\n    preset: 'default',\n    showError: false,\n    listenKeyEnter: false,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}