{"ast":null,"code":"import React from 'react';\nimport _range from 'lodash/range';\nfunction getRefs(count) {\n  return _range(count).reduce((acc, index) => {\n    acc[index] = React.createRef();\n    return acc;\n  }, {});\n}\nexport class SimpleContainer extends React.Component {\n  static getDerivedStateFromProps(_ref, prevState) {\n    let {\n      itemCount\n    } = _ref;\n    const refsCount = Object.keys(prevState.refsList).length;\n    if (itemCount === refsCount) {\n      return prevState;\n    } else {\n      return {\n        refsList: getRefs(itemCount)\n      };\n    }\n  }\n  constructor(props) {\n    super(props);\n    this.node = null;\n    this.setRef = node => {\n      var _a;\n      this.node = node;\n      (_a = this.props.provided) === null || _a === void 0 ? void 0 : _a.innerRef(node);\n    };\n    this.state = {\n      refsList: getRefs(props.itemCount)\n    };\n  }\n  componentDidMount() {\n    if (this.node && this.props.sortable) {\n      const {\n        width,\n        height\n      } = this.node.getBoundingClientRect();\n      this.setState({\n        minWidth: width,\n        minHeight: height\n      });\n    }\n  }\n  render() {\n    const {\n      minWidth,\n      minHeight\n    } = this.state;\n    const children = React.Children.map(this.props.children, (child, index) => React.cloneElement(child, {\n      ref: this.state.refsList[index]\n    }));\n    return React.createElement(\"div\", {\n      ref: this.setRef,\n      style: {\n        minWidth,\n        minHeight\n      }\n    }, children);\n  }\n  scrollToItem(index) {\n    var _a, _b;\n    const listItem = (_a = this.state.refsList[index]) === null || _a === void 0 ? void 0 : _a.current;\n    if (listItem && typeof listItem.getNode === 'function') {\n      const node = listItem.getNode();\n      if (node) {\n        (_b = node.scrollIntoView) === null || _b === void 0 ? void 0 : _b.call(node, {\n          block: 'nearest'\n        });\n      }\n    }\n  }\n}","map":{"version":3,"names":["React","_range","getRefs","count","reduce","acc","index","createRef","SimpleContainer","Component","getDerivedStateFromProps","_ref","prevState","itemCount","refsCount","Object","keys","refsList","length","constructor","props","node","setRef","_a","provided","innerRef","state","componentDidMount","sortable","width","height","getBoundingClientRect","setState","minWidth","minHeight","render","children","Children","map","child","cloneElement","ref","createElement","style","scrollToItem","_b","listItem","current","getNode","scrollIntoView","call","block"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/List/components/SimpleContainer.js"],"sourcesContent":["import React from 'react';\nimport _range from 'lodash/range';\nfunction getRefs(count) {\n    return _range(count).reduce((acc, index) => {\n        acc[index] = React.createRef();\n        return acc;\n    }, {});\n}\nexport class SimpleContainer extends React.Component {\n    static getDerivedStateFromProps({ itemCount }, prevState) {\n        const refsCount = Object.keys(prevState.refsList).length;\n        if (itemCount === refsCount) {\n            return prevState;\n        }\n        else {\n            return {\n                refsList: getRefs(itemCount),\n            };\n        }\n    }\n    constructor(props) {\n        super(props);\n        this.node = null;\n        this.setRef = (node) => {\n            var _a;\n            this.node = node;\n            (_a = this.props.provided) === null || _a === void 0 ? void 0 : _a.innerRef(node);\n        };\n        this.state = {\n            refsList: getRefs(props.itemCount),\n        };\n    }\n    componentDidMount() {\n        if (this.node && this.props.sortable) {\n            const { width, height } = this.node.getBoundingClientRect();\n            this.setState({ minWidth: width, minHeight: height });\n        }\n    }\n    render() {\n        const { minWidth, minHeight } = this.state;\n        const children = React.Children.map(this.props.children, (child, index) => React.cloneElement(child, { ref: this.state.refsList[index] }));\n        return (React.createElement(\"div\", { ref: this.setRef, style: { minWidth, minHeight } }, children));\n    }\n    scrollToItem(index) {\n        var _a, _b;\n        const listItem = (_a = this.state.refsList[index]) === null || _a === void 0 ? void 0 : _a.current;\n        if (listItem && typeof listItem.getNode === 'function') {\n            const node = listItem.getNode();\n            if (node) {\n                (_b = node.scrollIntoView) === null || _b === void 0 ? void 0 : _b.call(node, { block: 'nearest' });\n            }\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}