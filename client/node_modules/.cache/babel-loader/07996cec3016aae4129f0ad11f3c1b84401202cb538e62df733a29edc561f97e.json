{"ast":null,"code":"import React from 'react';\nimport { Xmark } from '@gravity-ui/icons';\nimport { useActionHandlers } from '../../hooks';\nimport { Button } from '../Button';\nimport { ClipboardIcon } from '../ClipboardIcon';\nimport { CopyToClipboard, CopyToClipboardStatus } from '../CopyToClipboard';\nimport { Icon } from '../Icon';\nimport { block } from '../utils/cn';\nimport './Label.css';\nconst b = block('label');\nconst sizeMap = {\n  xs: {\n    copyIconSize: 12,\n    closeIconSize: 12,\n    buttonSize: 'xs'\n  },\n  s: {\n    copyIconSize: 14,\n    closeIconSize: 14,\n    buttonSize: 's'\n  },\n  m: {\n    copyIconSize: 16,\n    closeIconSize: 16,\n    buttonSize: 'm'\n  }\n};\nconst commonActionButtonProps = {\n  pin: 'brick-round',\n  className: b('addon', {\n    side: 'right',\n    interactive: true\n  })\n};\nexport const Label = React.forwardRef(function Label(props, ref) {\n  const {\n    type = 'default',\n    theme = 'normal',\n    size = 'xs',\n    icon,\n    children,\n    onClose,\n    className,\n    disabled,\n    copyText,\n    closeButtonLabel,\n    copyButtonLabel,\n    interactive = false,\n    value,\n    onCopy,\n    onClick\n  } = props;\n  const actionButtonRef = React.useRef(null);\n  const hasContent = Boolean(children !== '' && React.Children.count(children) > 0);\n  const typeClose = type === 'close' && hasContent;\n  const typeCopy = type === 'copy' && hasContent;\n  const hasOnClick = Boolean(onClick);\n  const hasCopy = Boolean(typeCopy && copyText);\n  const isInteractive = (hasOnClick || hasCopy || interactive) && !disabled;\n  const {\n    copyIconSize,\n    closeIconSize,\n    buttonSize\n  } = sizeMap[size];\n  const leftIcon = icon && React.createElement(\"div\", {\n    className: b('addon', {\n      side: hasContent ? 'left' : undefined\n    })\n  }, icon);\n  const content = hasContent && React.createElement(\"div\", {\n    className: b('text')\n  }, React.createElement(\"div\", {\n    className: b('content')\n  }, children), Boolean(value) && React.createElement(\"div\", {\n    className: b('value')\n  }, React.createElement(\"div\", {\n    className: b('separator')\n  }, \":\"), React.createElement(\"div\", {\n    className: b('key')\n  }, value)));\n  const handleCloseClick = event => {\n    if (hasOnClick) {\n      /* preventing event from bubbling */\n      event.stopPropagation();\n    }\n    if (onClose) {\n      onClose(event);\n    }\n  };\n  const handleClick = event => {\n    var _a;\n    /**\n     * Triggered only if the handler was triggered on the element itself, and not on the actionButton\n     * It is necessary that keyboard navigation works correctly\n     */\n    if (!((_a = actionButtonRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n      onClick === null || onClick === void 0 ? void 0 : onClick(event);\n    }\n  };\n  const {\n    onKeyDown\n  } = useActionHandlers(handleClick);\n  const renderLabel = status => {\n    let actionButton;\n    if (typeCopy) {\n      actionButton = React.createElement(Button, Object.assign({\n        ref: actionButtonRef,\n        size: buttonSize,\n        extraProps: {\n          'aria-label': copyButtonLabel || undefined\n        }\n      }, commonActionButtonProps), React.createElement(Button.Icon, null, React.createElement(ClipboardIcon, {\n        status: status || CopyToClipboardStatus.Pending,\n        size: copyIconSize\n      })));\n    } else if (typeClose) {\n      actionButton = React.createElement(Button, Object.assign({\n        ref: actionButtonRef,\n        onClick: onClose ? handleCloseClick : undefined,\n        size: buttonSize,\n        extraProps: {\n          'aria-label': closeButtonLabel || undefined\n        }\n      }, commonActionButtonProps), React.createElement(Icon, {\n        size: closeIconSize,\n        data: Xmark\n      }));\n    }\n    return React.createElement(\"div\", {\n      ref: ref,\n      role: hasOnClick ? 'button' : undefined,\n      tabIndex: hasOnClick ? 0 : undefined,\n      onClick: hasOnClick ? handleClick : undefined,\n      onKeyDown: hasOnClick ? onKeyDown : undefined,\n      className: b({\n        theme,\n        size,\n        type,\n        'is-interactive': isInteractive,\n        'has-right-addon': Boolean(actionButton),\n        'has-left-addon': Boolean(leftIcon),\n        disabled\n      }, className)\n    }, leftIcon, content, actionButton);\n  };\n  if (hasCopy && copyText && !hasOnClick) {\n    return React.createElement(CopyToClipboard, {\n      text: copyText,\n      onCopy: onCopy,\n      timeout: 1000\n    }, status => renderLabel(status));\n  }\n  return renderLabel();\n});","map":{"version":3,"names":["React","Xmark","useActionHandlers","Button","ClipboardIcon","CopyToClipboard","CopyToClipboardStatus","Icon","block","b","sizeMap","xs","copyIconSize","closeIconSize","buttonSize","s","m","commonActionButtonProps","pin","className","side","interactive","Label","forwardRef","props","ref","type","theme","size","icon","children","onClose","disabled","copyText","closeButtonLabel","copyButtonLabel","value","onCopy","onClick","actionButtonRef","useRef","hasContent","Boolean","Children","count","typeClose","typeCopy","hasOnClick","hasCopy","isInteractive","leftIcon","createElement","undefined","content","handleCloseClick","event","stopPropagation","handleClick","_a","current","contains","target","onKeyDown","renderLabel","status","actionButton","Object","assign","extraProps","Pending","data","role","tabIndex","text","timeout"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Label/Label.js"],"sourcesContent":["import React from 'react';\nimport { Xmark } from '@gravity-ui/icons';\nimport { useActionHandlers } from '../../hooks';\nimport { Button } from '../Button';\nimport { ClipboardIcon } from '../ClipboardIcon';\nimport { CopyToClipboard, CopyToClipboardStatus } from '../CopyToClipboard';\nimport { Icon } from '../Icon';\nimport { block } from '../utils/cn';\nimport './Label.css';\nconst b = block('label');\nconst sizeMap = {\n    xs: { copyIconSize: 12, closeIconSize: 12, buttonSize: 'xs' },\n    s: { copyIconSize: 14, closeIconSize: 14, buttonSize: 's' },\n    m: { copyIconSize: 16, closeIconSize: 16, buttonSize: 'm' },\n};\nconst commonActionButtonProps = {\n    pin: 'brick-round',\n    className: b('addon', {\n        side: 'right',\n        interactive: true,\n    }),\n};\nexport const Label = React.forwardRef(function Label(props, ref) {\n    const { type = 'default', theme = 'normal', size = 'xs', icon, children, onClose, className, disabled, copyText, closeButtonLabel, copyButtonLabel, interactive = false, value, onCopy, onClick, } = props;\n    const actionButtonRef = React.useRef(null);\n    const hasContent = Boolean(children !== '' && React.Children.count(children) > 0);\n    const typeClose = type === 'close' && hasContent;\n    const typeCopy = type === 'copy' && hasContent;\n    const hasOnClick = Boolean(onClick);\n    const hasCopy = Boolean(typeCopy && copyText);\n    const isInteractive = (hasOnClick || hasCopy || interactive) && !disabled;\n    const { copyIconSize, closeIconSize, buttonSize } = sizeMap[size];\n    const leftIcon = icon && (React.createElement(\"div\", { className: b('addon', { side: hasContent ? 'left' : undefined }) }, icon));\n    const content = hasContent && (React.createElement(\"div\", { className: b('text') },\n        React.createElement(\"div\", { className: b('content') }, children),\n        Boolean(value) && (React.createElement(\"div\", { className: b('value') },\n            React.createElement(\"div\", { className: b('separator') }, \":\"),\n            React.createElement(\"div\", { className: b('key') }, value)))));\n    const handleCloseClick = (event) => {\n        if (hasOnClick) {\n            /* preventing event from bubbling */\n            event.stopPropagation();\n        }\n        if (onClose) {\n            onClose(event);\n        }\n    };\n    const handleClick = (event) => {\n        var _a;\n        /**\n         * Triggered only if the handler was triggered on the element itself, and not on the actionButton\n         * It is necessary that keyboard navigation works correctly\n         */\n        if (!((_a = actionButtonRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(event);\n        }\n    };\n    const { onKeyDown } = useActionHandlers(handleClick);\n    const renderLabel = (status) => {\n        let actionButton;\n        if (typeCopy) {\n            actionButton = (React.createElement(Button, Object.assign({ ref: actionButtonRef, size: buttonSize, extraProps: { 'aria-label': copyButtonLabel || undefined } }, commonActionButtonProps),\n                React.createElement(Button.Icon, null,\n                    React.createElement(ClipboardIcon, { status: status || CopyToClipboardStatus.Pending, size: copyIconSize }))));\n        }\n        else if (typeClose) {\n            actionButton = (React.createElement(Button, Object.assign({ ref: actionButtonRef, onClick: onClose ? handleCloseClick : undefined, size: buttonSize, extraProps: { 'aria-label': closeButtonLabel || undefined } }, commonActionButtonProps),\n                React.createElement(Icon, { size: closeIconSize, data: Xmark })));\n        }\n        return (React.createElement(\"div\", { ref: ref, role: hasOnClick ? 'button' : undefined, tabIndex: hasOnClick ? 0 : undefined, onClick: hasOnClick ? handleClick : undefined, onKeyDown: hasOnClick ? onKeyDown : undefined, className: b({\n                theme,\n                size,\n                type,\n                'is-interactive': isInteractive,\n                'has-right-addon': Boolean(actionButton),\n                'has-left-addon': Boolean(leftIcon),\n                disabled,\n            }, className) },\n            leftIcon,\n            content,\n            actionButton));\n    };\n    if (hasCopy && copyText && !hasOnClick) {\n        return (React.createElement(CopyToClipboard, { text: copyText, onCopy: onCopy, timeout: 1000 }, (status) => renderLabel(status)));\n    }\n    return renderLabel();\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}