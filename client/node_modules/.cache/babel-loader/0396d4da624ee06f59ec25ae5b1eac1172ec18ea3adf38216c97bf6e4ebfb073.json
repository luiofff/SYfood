{"ast":null,"code":"import React from 'react';\nimport { KeyCode } from '../../constants';\nimport { useForkRef } from '../../hooks';\nimport { useBoolean } from '../../hooks/private';\nimport { Popup } from '../Popup';\nimport { block } from '../utils/cn';\nimport './Tooltip.css';\nconst b = block('tooltip');\nconst DEFAULT_PLACEMENT = ['bottom', 'top'];\nexport const Tooltip = props => {\n  const {\n    children,\n    content,\n    disabled,\n    placement = DEFAULT_PLACEMENT\n  } = props;\n  const [anchorElement, setAnchorElement] = React.useState(null);\n  const tooltipVisible = useTooltipVisible(anchorElement, props);\n  const renderPopup = () => {\n    return React.createElement(Popup, {\n      id: props.id,\n      role: \"tooltip\",\n      className: b(null, props.className),\n      style: props.style,\n      open: tooltipVisible && !disabled,\n      placement: placement,\n      anchorRef: {\n        current: anchorElement\n      },\n      disablePortal: props.disablePortal,\n      disableEscapeKeyDown: true,\n      disableOutsideClick: true,\n      disableLayer: true\n    }, React.createElement(\"div\", {\n      className: b('content', props.contentClassName)\n    }, content));\n  };\n  const child = React.Children.only(children);\n  const childRef = child.ref;\n  const ref = useForkRef(setAnchorElement, childRef);\n  return React.createElement(React.Fragment, null, React.cloneElement(child, {\n    ref\n  }), anchorElement ? renderPopup() : null);\n};\nfunction useTooltipVisible(anchor, _ref) {\n  let {\n    openDelay = 250,\n    closeDelay\n  } = _ref;\n  const [tooltipVisible, showTooltip, hideTooltip] = useBoolean(false);\n  const timeoutRef = React.useRef();\n  const isFocusWithinRef = React.useRef(false);\n  React.useEffect(() => {\n    if (!anchor) {\n      return undefined;\n    }\n    function handleMouseEnter() {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = window.setTimeout(showTooltip, openDelay);\n    }\n    function handleMouseLeave() {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = window.setTimeout(hideTooltip, closeDelay);\n    }\n    function handleFocusWithin(e) {\n      if (!isFocusWithinRef.current && document.activeElement === e.target) {\n        isFocusWithinRef.current = true;\n        clearTimeout(timeoutRef.current);\n        showTooltip();\n      }\n    }\n    function handleBlurWithin(e) {\n      if (isFocusWithinRef.current && !e.currentTarget.contains(e.relatedTarget)) {\n        isFocusWithinRef.current = false;\n        clearTimeout(timeoutRef.current);\n        hideTooltip();\n      }\n    }\n    function handleKeyDown(e) {\n      if (e.key === KeyCode.ESCAPE) {\n        clearTimeout(timeoutRef.current);\n        hideTooltip();\n      }\n    }\n    anchor.addEventListener('mouseenter', handleMouseEnter);\n    anchor.addEventListener('mouseleave', handleMouseLeave);\n    anchor.addEventListener('focus', handleFocusWithin);\n    anchor.addEventListener('blur', handleBlurWithin);\n    anchor.addEventListener('keydown', handleKeyDown);\n    return () => {\n      anchor.removeEventListener('mouseenter', handleMouseEnter);\n      anchor.removeEventListener('mouseleave', handleMouseLeave);\n      anchor.removeEventListener('focus', handleFocusWithin);\n      anchor.removeEventListener('blur', handleBlurWithin);\n      anchor.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [anchor, showTooltip, hideTooltip, openDelay, closeDelay]);\n  return tooltipVisible;\n}","map":{"version":3,"names":["React","KeyCode","useForkRef","useBoolean","Popup","block","b","DEFAULT_PLACEMENT","Tooltip","props","children","content","disabled","placement","anchorElement","setAnchorElement","useState","tooltipVisible","useTooltipVisible","renderPopup","createElement","id","role","className","style","open","anchorRef","current","disablePortal","disableEscapeKeyDown","disableOutsideClick","disableLayer","contentClassName","child","Children","only","childRef","ref","Fragment","cloneElement","anchor","_ref","openDelay","closeDelay","showTooltip","hideTooltip","timeoutRef","useRef","isFocusWithinRef","useEffect","undefined","handleMouseEnter","clearTimeout","window","setTimeout","handleMouseLeave","handleFocusWithin","e","document","activeElement","target","handleBlurWithin","currentTarget","contains","relatedTarget","handleKeyDown","key","ESCAPE","addEventListener","removeEventListener"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Tooltip/Tooltip.js"],"sourcesContent":["import React from 'react';\nimport { KeyCode } from '../../constants';\nimport { useForkRef } from '../../hooks';\nimport { useBoolean } from '../../hooks/private';\nimport { Popup } from '../Popup';\nimport { block } from '../utils/cn';\nimport './Tooltip.css';\nconst b = block('tooltip');\nconst DEFAULT_PLACEMENT = ['bottom', 'top'];\nexport const Tooltip = (props) => {\n    const { children, content, disabled, placement = DEFAULT_PLACEMENT } = props;\n    const [anchorElement, setAnchorElement] = React.useState(null);\n    const tooltipVisible = useTooltipVisible(anchorElement, props);\n    const renderPopup = () => {\n        return (React.createElement(Popup, { id: props.id, role: \"tooltip\", className: b(null, props.className), style: props.style, open: tooltipVisible && !disabled, placement: placement, anchorRef: { current: anchorElement }, disablePortal: props.disablePortal, disableEscapeKeyDown: true, disableOutsideClick: true, disableLayer: true },\n            React.createElement(\"div\", { className: b('content', props.contentClassName) }, content)));\n    };\n    const child = React.Children.only(children);\n    const childRef = child.ref;\n    const ref = useForkRef(setAnchorElement, childRef);\n    return (React.createElement(React.Fragment, null,\n        React.cloneElement(child, { ref }),\n        anchorElement ? renderPopup() : null));\n};\nfunction useTooltipVisible(anchor, { openDelay = 250, closeDelay }) {\n    const [tooltipVisible, showTooltip, hideTooltip] = useBoolean(false);\n    const timeoutRef = React.useRef();\n    const isFocusWithinRef = React.useRef(false);\n    React.useEffect(() => {\n        if (!anchor) {\n            return undefined;\n        }\n        function handleMouseEnter() {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = window.setTimeout(showTooltip, openDelay);\n        }\n        function handleMouseLeave() {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = window.setTimeout(hideTooltip, closeDelay);\n        }\n        function handleFocusWithin(e) {\n            if (!isFocusWithinRef.current && document.activeElement === e.target) {\n                isFocusWithinRef.current = true;\n                clearTimeout(timeoutRef.current);\n                showTooltip();\n            }\n        }\n        function handleBlurWithin(e) {\n            if (isFocusWithinRef.current &&\n                !e.currentTarget.contains(e.relatedTarget)) {\n                isFocusWithinRef.current = false;\n                clearTimeout(timeoutRef.current);\n                hideTooltip();\n            }\n        }\n        function handleKeyDown(e) {\n            if (e.key === KeyCode.ESCAPE) {\n                clearTimeout(timeoutRef.current);\n                hideTooltip();\n            }\n        }\n        anchor.addEventListener('mouseenter', handleMouseEnter);\n        anchor.addEventListener('mouseleave', handleMouseLeave);\n        anchor.addEventListener('focus', handleFocusWithin);\n        anchor.addEventListener('blur', handleBlurWithin);\n        anchor.addEventListener('keydown', handleKeyDown);\n        return () => {\n            anchor.removeEventListener('mouseenter', handleMouseEnter);\n            anchor.removeEventListener('mouseleave', handleMouseLeave);\n            anchor.removeEventListener('focus', handleFocusWithin);\n            anchor.removeEventListener('blur', handleBlurWithin);\n            anchor.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [anchor, showTooltip, hideTooltip, openDelay, closeDelay]);\n    return tooltipVisible;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}