{"ast":null,"code":"import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { useForkRef } from '../../hooks';\nimport { usePopper, useRestoreFocus } from '../../hooks/private';\nimport { Portal } from '../Portal';\nimport { FocusTrap, useParentFocusTrap } from '../utils/FocusTrap';\nimport { block } from '../utils/cn';\nimport { useLayer } from '../utils/layer-manager';\nimport { getCSSTransitionClassNames } from '../utils/transition';\nimport { PopupArrow } from './PopupArrow';\nimport './Popup.css';\nconst b = block('popup');\nconst ARROW_SIZE = 8;\nexport function Popup(_ref) {\n  let {\n    keepMounted = false,\n    hasArrow = false,\n    offset = [0, 4],\n    open,\n    placement,\n    anchorRef,\n    disableEscapeKeyDown,\n    disableOutsideClick,\n    disableLayer,\n    style,\n    className,\n    contentClassName,\n    modifiers = [],\n    children,\n    onEscapeKeyDown,\n    onOutsideClick,\n    onClose,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onFocus,\n    onBlur,\n    disablePortal,\n    container,\n    strategy,\n    qa,\n    restoreFocus,\n    restoreFocusRef,\n    role,\n    id,\n    focusTrap = false,\n    autoFocus = false\n  } = _ref;\n  const containerRef = React.useRef(null);\n  useLayer({\n    open,\n    disableEscapeKeyDown,\n    disableOutsideClick,\n    onEscapeKeyDown,\n    onOutsideClick,\n    onClose,\n    contentRefs: [anchorRef, containerRef],\n    enabled: !disableLayer,\n    type: 'popup'\n  });\n  const {\n    attributes,\n    styles,\n    setPopperRef,\n    setArrowRef\n  } = usePopper({\n    anchorRef,\n    placement,\n    // Take arrow size into offset account\n    offset: hasArrow ? [offset[0], offset[1] + ARROW_SIZE] : offset,\n    strategy,\n    altBoundary: disablePortal,\n    modifiers: [\n    // Properly display arrow within rounded container\n    {\n      name: 'arrow',\n      options: {\n        enabled: hasArrow,\n        padding: 4\n      }\n    },\n    // Prevent border hiding\n    {\n      name: 'preventOverflow',\n      options: {\n        padding: 1,\n        altBoundary: disablePortal\n      }\n    }, ...modifiers]\n  });\n  const handleRef = useForkRef(setPopperRef, containerRef, useParentFocusTrap());\n  const containerProps = useRestoreFocus({\n    enabled: Boolean(restoreFocus && open),\n    restoreFocusRef\n  });\n  return React.createElement(Portal, {\n    container: container,\n    disablePortal: disablePortal\n  }, React.createElement(CSSTransition, {\n    nodeRef: containerRef,\n    in: open,\n    addEndListener: done => {\n      var _a;\n      return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.addEventListener('animationend', done);\n    },\n    classNames: getCSSTransitionClassNames(b),\n    mountOnEnter: !keepMounted,\n    unmountOnExit: !keepMounted,\n    appear: true\n  }, React.createElement(\"div\", Object.assign({\n    ref: handleRef,\n    style: styles.popper\n  }, attributes.popper, containerProps, {\n    className: b({\n      open\n    }, className),\n    \"data-qa\": qa,\n    id: id,\n    role: role\n  }), React.createElement(FocusTrap, {\n    enabled: focusTrap && open,\n    disableAutoFocus: !autoFocus\n  }, React.createElement(\"div\", {\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    className: b('content', contentClassName),\n    style: style,\n    tabIndex: -1\n  }, hasArrow && React.createElement(PopupArrow, {\n    styles: styles.arrow,\n    attributes: attributes.arrow,\n    setArrowRef: setArrowRef\n  }), children)))));\n}","map":{"version":3,"names":["React","CSSTransition","useForkRef","usePopper","useRestoreFocus","Portal","FocusTrap","useParentFocusTrap","block","useLayer","getCSSTransitionClassNames","PopupArrow","b","ARROW_SIZE","Popup","_ref","keepMounted","hasArrow","offset","open","placement","anchorRef","disableEscapeKeyDown","disableOutsideClick","disableLayer","style","className","contentClassName","modifiers","children","onEscapeKeyDown","onOutsideClick","onClose","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","disablePortal","container","strategy","qa","restoreFocus","restoreFocusRef","role","id","focusTrap","autoFocus","containerRef","useRef","contentRefs","enabled","type","attributes","styles","setPopperRef","setArrowRef","altBoundary","name","options","padding","handleRef","containerProps","Boolean","createElement","nodeRef","in","addEndListener","done","_a","current","addEventListener","classNames","mountOnEnter","unmountOnExit","appear","Object","assign","ref","popper","disableAutoFocus","tabIndex","arrow"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Popup/Popup.js"],"sourcesContent":["import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { useForkRef } from '../../hooks';\nimport { usePopper, useRestoreFocus } from '../../hooks/private';\nimport { Portal } from '../Portal';\nimport { FocusTrap, useParentFocusTrap } from '../utils/FocusTrap';\nimport { block } from '../utils/cn';\nimport { useLayer } from '../utils/layer-manager';\nimport { getCSSTransitionClassNames } from '../utils/transition';\nimport { PopupArrow } from './PopupArrow';\nimport './Popup.css';\nconst b = block('popup');\nconst ARROW_SIZE = 8;\nexport function Popup({ keepMounted = false, hasArrow = false, offset = [0, 4], open, placement, anchorRef, disableEscapeKeyDown, disableOutsideClick, disableLayer, style, className, contentClassName, modifiers = [], children, onEscapeKeyDown, onOutsideClick, onClose, onClick, onMouseEnter, onMouseLeave, onFocus, onBlur, disablePortal, container, strategy, qa, restoreFocus, restoreFocusRef, role, id, focusTrap = false, autoFocus = false, }) {\n    const containerRef = React.useRef(null);\n    useLayer({\n        open,\n        disableEscapeKeyDown,\n        disableOutsideClick,\n        onEscapeKeyDown,\n        onOutsideClick,\n        onClose,\n        contentRefs: [anchorRef, containerRef],\n        enabled: !disableLayer,\n        type: 'popup',\n    });\n    const { attributes, styles, setPopperRef, setArrowRef } = usePopper({\n        anchorRef,\n        placement,\n        // Take arrow size into offset account\n        offset: hasArrow ? [offset[0], offset[1] + ARROW_SIZE] : offset,\n        strategy,\n        altBoundary: disablePortal,\n        modifiers: [\n            // Properly display arrow within rounded container\n            { name: 'arrow', options: { enabled: hasArrow, padding: 4 } },\n            // Prevent border hiding\n            { name: 'preventOverflow', options: { padding: 1, altBoundary: disablePortal } },\n            ...modifiers,\n        ],\n    });\n    const handleRef = useForkRef(setPopperRef, containerRef, useParentFocusTrap());\n    const containerProps = useRestoreFocus({\n        enabled: Boolean(restoreFocus && open),\n        restoreFocusRef,\n    });\n    return (React.createElement(Portal, { container: container, disablePortal: disablePortal },\n        React.createElement(CSSTransition, { nodeRef: containerRef, in: open, addEndListener: (done) => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.addEventListener('animationend', done); }, classNames: getCSSTransitionClassNames(b), mountOnEnter: !keepMounted, unmountOnExit: !keepMounted, appear: true },\n            React.createElement(\"div\", Object.assign({ ref: handleRef, style: styles.popper }, attributes.popper, containerProps, { className: b({ open }, className), \"data-qa\": qa, id: id, role: role }),\n                React.createElement(FocusTrap, { enabled: focusTrap && open, disableAutoFocus: !autoFocus },\n                    React.createElement(\"div\", { onClick: onClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onFocus: onFocus, onBlur: onBlur, className: b('content', contentClassName), style: style, tabIndex: -1 },\n                        hasArrow && (React.createElement(PopupArrow, { styles: styles.arrow, attributes: attributes.arrow, setArrowRef: setArrowRef })),\n                        children))))));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}