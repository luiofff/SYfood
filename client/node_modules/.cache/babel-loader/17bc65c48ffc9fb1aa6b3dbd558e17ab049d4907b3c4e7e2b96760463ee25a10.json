{"ast":null,"code":"/* eslint new-cap: \"off\" */\nimport React from 'react';\nimport isObject from 'lodash/isObject';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { VariableSizeList as ListContainer } from 'react-window';\nimport { SelectLoadingIndicator } from '../Select/components/SelectList/SelectLoadingIndicator';\nimport { TextInput } from '../controls';\nimport { MobileContext } from '../mobile';\nimport { block } from '../utils/cn';\nimport { getUniqId } from '../utils/common';\nimport { ListItem, SimpleContainer, defaultRenderItem } from './components';\nimport { listNavigationIgnoredKeys } from './constants';\nimport './List.css';\nconst b = block('list');\nconst DEFAULT_ITEM_HEIGHT = 28;\nconst SortableListItem = SortableElement(ListItem);\nconst SortableListContainer = SortableContainer(ListContainer, {\n  withRef: true\n});\nconst SortableSimpleContainer = SortableContainer(SimpleContainer, {\n  withRef: true\n});\nexport const listDefaultProps = {\n  items: [],\n  itemClassName: '',\n  filterable: true,\n  sortable: false,\n  virtualized: true,\n  deactivateOnLeave: true\n};\nexport class List extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      items: this.props.items,\n      filter: ''\n    };\n    this.refFilter = React.createRef();\n    this.refContainer = React.createRef();\n    this.blurTimer = null;\n    this.loadingItem = {\n      value: '__LIST_ITEM_LOADING__',\n      disabled: true\n    };\n    this.uniqId = getUniqId();\n    // FIXME: BREAKING CHANGE. Rename to \"handleKeyDown\"\n    this.onKeyDown = event => {\n      const {\n        activeItem,\n        pageSize\n      } = this.state;\n      if (listNavigationIgnoredKeys.includes(event.key)) {\n        return;\n      }\n      switch (event.key) {\n        case 'ArrowDown':\n          {\n            this.handleKeyMove(event, 1, -1);\n            break;\n          }\n        case 'ArrowUp':\n          {\n            this.handleKeyMove(event, -1);\n            break;\n          }\n        case 'PageDown':\n          {\n            this.handleKeyMove(event, pageSize);\n            break;\n          }\n        case 'PageUp':\n          {\n            this.handleKeyMove(event, -pageSize);\n            break;\n          }\n        case 'Home':\n          {\n            this.handleKeyMove(event, this.state.items.length - (activeItem || 0));\n            break;\n          }\n        case 'End':\n          {\n            this.handleKeyMove(event, -(activeItem || 0) - 1);\n            break;\n          }\n        case 'Enter':\n          {\n            if (typeof activeItem === 'number' && this.props.onItemClick) {\n              this.props.onItemClick(this.state.items[activeItem], activeItem, true);\n            }\n            break;\n          }\n        default:\n          {\n            if (this.refFilter.current) {\n              this.refFilter.current.focus();\n            }\n          }\n      }\n    };\n    this.renderItemContent = (item, isItemActive, itemIndex) => {\n      const {\n        onLoadMore\n      } = this.props;\n      if (isObject(item) && 'value' in item && item.value === this.loadingItem.value) {\n        return React.createElement(SelectLoadingIndicator, {\n          onIntersect: itemIndex === 0 ? undefined : onLoadMore\n        });\n      }\n      return this.props.renderItem ? this.props.renderItem(item, isItemActive, itemIndex) : defaultRenderItem(item);\n    };\n    this.renderItem = ({\n      index,\n      style\n    }) => {\n      var _a;\n      const {\n        sortHandleAlign,\n        role\n      } = this.props;\n      const {\n        items,\n        activeItem\n      } = this.state;\n      const item = this.getItemsWithLoading()[index];\n      const sortable = this.props.sortable && items.length > 1 && !this.getFilter();\n      const active = index === activeItem || index === this.props.activeItemIndex;\n      const Item = sortable ? SortableListItem : ListItem;\n      const selected = Array.isArray(this.props.selectedItemIndex) ? this.props.selectedItemIndex.includes(index) : index === this.props.selectedItemIndex;\n      return React.createElement(Item, {\n        key: index,\n        style: style,\n        index: index,\n        itemIndex: index,\n        item: item,\n        sortable: sortable,\n        sortHandleAlign: sortHandleAlign,\n        renderItem: this.renderItemContent,\n        itemClassName: this.props.itemClassName,\n        active: active,\n        selected: selected,\n        onActivate: this.onItemActivate,\n        onClick: this.props.onItemClick,\n        role: role === 'listbox' ? 'option' : 'listitem',\n        listId: (_a = this.props.id) !== null && _a !== void 0 ? _a : this.uniqId\n      });\n    };\n    this.filterItem = filter => item => {\n      return String(item).includes(filter);\n    };\n    this.scrollToIndex = index => {\n      const container = this.getContainer();\n      if (container) {\n        container.scrollToItem(index);\n      }\n    };\n    this.deactivate = () => {\n      if (!this.blurTimer) {\n        return;\n      }\n      if (this.props.deactivateOnLeave) {\n        this.setState({\n          activeItem: undefined\n        });\n      }\n    };\n    this.handleFocus = () => {\n      if (this.blurTimer) {\n        clearTimeout(this.blurTimer);\n        this.blurTimer = null;\n      }\n    };\n    this.handleBlur = () => {\n      if (!this.blurTimer) {\n        this.blurTimer = setTimeout(this.deactivate, 50);\n      }\n    };\n    this.onUpdateFilterInternal = value => {\n      const {\n        items,\n        filterItem = this.filterItem,\n        onFilterEnd\n      } = this.props;\n      this.setState({\n        filter: value,\n        items: value ? items.filter(filterItem(value)) : items\n      }, () => {\n        if (onFilterEnd) {\n          onFilterEnd({\n            items: this.state.items\n          });\n        }\n      });\n    };\n    this.onFilterUpdate = value => {\n      if (this.props.onFilterUpdate) {\n        this.props.onFilterUpdate(value);\n      } else {\n        this.onUpdateFilterInternal(value);\n      }\n    };\n    this.onItemsRendered = ({\n      visibleStartIndex,\n      visibleStopIndex\n    }) => {\n      this.setState({\n        pageSize: visibleStopIndex - visibleStartIndex\n      });\n    };\n    this.onItemActivate = index => {\n      if (!this.state.sorting) {\n        this.activateItem(index, false);\n      }\n    };\n    this.onMouseLeave = () => {\n      this.deactivate();\n    };\n    this.onSortStart = () => {\n      this.setState({\n        sorting: true\n      });\n    };\n    this.onSortEnd = params => {\n      if (this.props.onSortEnd) {\n        this.props.onSortEnd(params);\n      }\n      this.setState({\n        sorting: false,\n        activeItem: params.newIndex\n      });\n    };\n    this.getItemHeight = index => {\n      const {\n        itemHeight\n      } = this.props;\n      if (typeof itemHeight === 'function') {\n        const {\n          items\n        } = this.state;\n        return itemHeight(items[index], index);\n      }\n      return itemHeight;\n    };\n    this.getVirtualizedItemHeight = index => {\n      return this.getItemHeight(index) || DEFAULT_ITEM_HEIGHT;\n    };\n  }\n  static moveListElement(list, oldIndex, newIndex) {\n    if (oldIndex !== newIndex) {\n      const [item] = list.splice(oldIndex, 1);\n      list.splice(newIndex, 0, item);\n    }\n    return list;\n  }\n  static findNextIndex(list, index, step) {\n    const dataLength = list.length;\n    let currentIndex = (index + dataLength) % dataLength;\n    for (let i = 0; i < dataLength; i += 1) {\n      if (list[currentIndex] && !list[currentIndex].disabled) {\n        return currentIndex;\n      }\n      currentIndex = (currentIndex + dataLength + step) % dataLength;\n    }\n    return undefined;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.items !== prevProps.items) {\n      const filter = this.getFilter();\n      const internalFiltering = filter && !this.props.onFilterUpdate;\n      if (internalFiltering) {\n        this.onUpdateFilterInternal(filter);\n      } else {\n        this.setState({\n          items: this.props.items\n        });\n      }\n    }\n    if (this.props.activeItemIndex !== prevProps.activeItemIndex) {\n      this.activateItem(this.props.activeItemIndex);\n    }\n    if (this.props.onChangeActive && this.state.activeItem !== prevState.activeItem) {\n      this.props.onChangeActive(this.state.activeItem);\n    }\n  }\n  componentWillUnmount() {\n    this.blurTimer = null;\n  }\n  render() {\n    const {\n      emptyPlaceholder,\n      virtualized,\n      className,\n      itemsClassName,\n      qa,\n      role = 'list'\n    } = this.props;\n    const {\n      items\n    } = this.state;\n    return React.createElement(MobileContext.Consumer, null, ({\n      mobile\n    }) =>\n    // The event handler should only be used to capture bubbled events\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    React.createElement(\"div\", {\n      className: b({\n        mobile\n      }, className),\n      \"data-qa\": qa,\n      tabIndex: -1,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyDown: this.onKeyDown\n    }, this.renderFilter(), React.createElement(\"div\", {\n      className: b('items', {\n        virtualized\n      }, itemsClassName),\n      style: this.getItemsStyle(),\n      onMouseLeave: this.onMouseLeave,\n      role: role\n    }, this.renderItems(), items.length === 0 && Boolean(emptyPlaceholder) && React.createElement(\"div\", {\n      className: b('empty-placeholder')\n    }, emptyPlaceholder))));\n  }\n  getItems() {\n    return this.state.items;\n  }\n  getItemsWithLoading() {\n    if (this.props.sortable) {\n      return this.getItems();\n    }\n    return this.props.loading ? [...this.state.items, this.loadingItem] : this.getItems();\n  }\n  getActiveItem() {\n    return typeof this.state.activeItem === 'number' ? this.state.activeItem : null;\n  }\n  activateItem(index, scrollTo = true) {\n    if (typeof index === 'number' && scrollTo) {\n      this.scrollToIndex(index);\n    }\n    this.setState({\n      activeItem: index\n    });\n  }\n  renderFilter() {\n    const {\n      size,\n      filterable,\n      filter = this.state.filter,\n      filterPlaceholder,\n      filterClassName = '',\n      autoFocus\n    } = this.props;\n    if (!filterable) {\n      return null;\n    }\n    return React.createElement(\"div\", {\n      className: b('filter', filterClassName)\n    }, React.createElement(TextInput, {\n      controlRef: this.refFilter,\n      size: size,\n      placeholder: filterPlaceholder,\n      value: filter,\n      hasClear: true,\n      onUpdate: this.onFilterUpdate,\n      // eslint-disable-next-line jsx-a11y/no-autofocus\n      autoFocus: autoFocus\n    }));\n  }\n  renderSimpleContainer() {\n    const {\n      sortable\n    } = this.props;\n    const items = this.getItemsWithLoading();\n    const Container = sortable ? SortableSimpleContainer : SimpleContainer;\n    return React.createElement(Container, {\n      helperClass: b('item', {\n        sorting: true\n      }),\n      distance: 5,\n      lockAxis: \"y\",\n      onSortStart: this.onSortStart,\n      onSortEnd: this.onSortEnd,\n      itemCount: items.length,\n      ref: this.refContainer\n    }, items.map((_item, index) => this.renderItem({\n      index,\n      style: {\n        height: this.getItemHeight(index)\n      }\n    })));\n  }\n  renderVirtualizedContainer() {\n    const Container = this.props.sortable ? SortableListContainer : ListContainer;\n    const items = this.getItemsWithLoading();\n    return React.createElement(AutoSizer, null, ({\n      width,\n      height\n    }) => React.createElement(Container, {\n      ref: this.refContainer,\n      width: width,\n      height: height,\n      itemSize: this.getVirtualizedItemHeight,\n      itemData: items,\n      itemCount: items.length,\n      overscanCount: 10,\n      helperClass: b('item', {\n        sorting: true\n      }),\n      distance: 5,\n      lockAxis: \"y\",\n      onItemsRendered: this.onItemsRendered,\n      onSortStart: this.onSortStart,\n      onSortEnd: this.onSortEnd,\n      // this property used to rerender items in viewport\n      // must be last, typescript skips checks for all props behind ts-ignore/ts-expect-error\n      // @ts-expect-error\n      activeItem: this.state.activeItem\n    }, this.renderItem));\n  }\n  renderItems() {\n    if (this.props.virtualized) {\n      return this.renderVirtualizedContainer();\n    } else {\n      return this.renderSimpleContainer();\n    }\n  }\n  getContainer() {\n    const ref = this.refContainer.current;\n    const wrappedInstance = ref && 'getWrappedInstance' in ref && typeof ref.getWrappedInstance === 'function' && ref.getWrappedInstance();\n    return this.props.sortable ? wrappedInstance : ref;\n  }\n  getFilter() {\n    const {\n      filter = this.state.filter\n    } = this.props;\n    return filter;\n  }\n  getItemsStyle() {\n    let {\n      itemsHeight\n    } = this.props;\n    if (typeof itemsHeight === 'function') {\n      itemsHeight = itemsHeight(this.state.items);\n    }\n    return itemsHeight ? {\n      height: itemsHeight\n    } : undefined;\n  }\n  handleKeyMove(event, step, defaultItemIndex = 0) {\n    event.preventDefault();\n    const {\n      activeItem = defaultItemIndex\n    } = this.state;\n    this.activateItem(List.findNextIndex(this.state.items, activeItem + step, Math.sign(step)));\n  }\n}\nList.defaultProps = listDefaultProps;","map":{"version":3,"names":["React","isObject","SortableContainer","SortableElement","AutoSizer","VariableSizeList","ListContainer","SelectLoadingIndicator","TextInput","MobileContext","block","getUniqId","ListItem","SimpleContainer","defaultRenderItem","listNavigationIgnoredKeys","b","DEFAULT_ITEM_HEIGHT","SortableListItem","SortableListContainer","withRef","SortableSimpleContainer","listDefaultProps","items","itemClassName","filterable","sortable","virtualized","deactivateOnLeave","List","Component","constructor","arguments","state","props","filter","refFilter","createRef","refContainer","blurTimer","loadingItem","value","disabled","uniqId","onKeyDown","event","activeItem","pageSize","includes","key","handleKeyMove","length","onItemClick","current","focus","renderItemContent","item","isItemActive","itemIndex","onLoadMore","createElement","onIntersect","undefined","renderItem","index","style","_a","sortHandleAlign","role","getItemsWithLoading","getFilter","active","activeItemIndex","Item","selected","Array","isArray","selectedItemIndex","onActivate","onItemActivate","onClick","listId","id","filterItem","String","scrollToIndex","container","getContainer","scrollToItem","deactivate","setState","handleFocus","clearTimeout","handleBlur","setTimeout","onUpdateFilterInternal","onFilterEnd","onFilterUpdate","onItemsRendered","visibleStartIndex","visibleStopIndex","sorting","activateItem","onMouseLeave","onSortStart","onSortEnd","params","newIndex","getItemHeight","itemHeight","getVirtualizedItemHeight","moveListElement","list","oldIndex","splice","findNextIndex","step","dataLength","currentIndex","i","componentDidUpdate","prevProps","prevState","internalFiltering","onChangeActive","componentWillUnmount","render","emptyPlaceholder","className","itemsClassName","qa","Consumer","mobile","tabIndex","onFocus","onBlur","renderFilter","getItemsStyle","renderItems","Boolean","getItems","loading","getActiveItem","scrollTo","size","filterPlaceholder","filterClassName","autoFocus","controlRef","placeholder","hasClear","onUpdate","renderSimpleContainer","Container","helperClass","distance","lockAxis","itemCount","ref","map","_item","height","renderVirtualizedContainer","width","itemSize","itemData","overscanCount","wrappedInstance","getWrappedInstance","itemsHeight","defaultItemIndex","preventDefault","Math","sign","defaultProps"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/List/List.js"],"sourcesContent":["/* eslint new-cap: \"off\" */\nimport React from 'react';\nimport isObject from 'lodash/isObject';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { VariableSizeList as ListContainer } from 'react-window';\nimport { SelectLoadingIndicator } from '../Select/components/SelectList/SelectLoadingIndicator';\nimport { TextInput } from '../controls';\nimport { MobileContext } from '../mobile';\nimport { block } from '../utils/cn';\nimport { getUniqId } from '../utils/common';\nimport { ListItem, SimpleContainer, defaultRenderItem } from './components';\nimport { listNavigationIgnoredKeys } from './constants';\nimport './List.css';\nconst b = block('list');\nconst DEFAULT_ITEM_HEIGHT = 28;\nconst SortableListItem = SortableElement(ListItem);\nconst SortableListContainer = SortableContainer(ListContainer, { withRef: true });\nconst SortableSimpleContainer = SortableContainer(SimpleContainer, { withRef: true });\nexport const listDefaultProps = {\n    items: [],\n    itemClassName: '',\n    filterable: true,\n    sortable: false,\n    virtualized: true,\n    deactivateOnLeave: true,\n};\nexport class List extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            items: this.props.items,\n            filter: '',\n        };\n        this.refFilter = React.createRef();\n        this.refContainer = React.createRef();\n        this.blurTimer = null;\n        this.loadingItem = { value: '__LIST_ITEM_LOADING__', disabled: true };\n        this.uniqId = getUniqId();\n        // FIXME: BREAKING CHANGE. Rename to \"handleKeyDown\"\n        this.onKeyDown = (event) => {\n            const { activeItem, pageSize } = this.state;\n            if (listNavigationIgnoredKeys.includes(event.key)) {\n                return;\n            }\n            switch (event.key) {\n                case 'ArrowDown': {\n                    this.handleKeyMove(event, 1, -1);\n                    break;\n                }\n                case 'ArrowUp': {\n                    this.handleKeyMove(event, -1);\n                    break;\n                }\n                case 'PageDown': {\n                    this.handleKeyMove(event, pageSize);\n                    break;\n                }\n                case 'PageUp': {\n                    this.handleKeyMove(event, -pageSize);\n                    break;\n                }\n                case 'Home': {\n                    this.handleKeyMove(event, this.state.items.length - (activeItem || 0));\n                    break;\n                }\n                case 'End': {\n                    this.handleKeyMove(event, -(activeItem || 0) - 1);\n                    break;\n                }\n                case 'Enter': {\n                    if (typeof activeItem === 'number' && this.props.onItemClick) {\n                        this.props.onItemClick(this.state.items[activeItem], activeItem, true);\n                    }\n                    break;\n                }\n                default: {\n                    if (this.refFilter.current) {\n                        this.refFilter.current.focus();\n                    }\n                }\n            }\n        };\n        this.renderItemContent = (item, isItemActive, itemIndex) => {\n            const { onLoadMore } = this.props;\n            if (isObject(item) && 'value' in item && item.value === this.loadingItem.value) {\n                return (React.createElement(SelectLoadingIndicator, { onIntersect: itemIndex === 0 ? undefined : onLoadMore }));\n            }\n            return this.props.renderItem\n                ? this.props.renderItem(item, isItemActive, itemIndex)\n                : defaultRenderItem(item);\n        };\n        this.renderItem = ({ index, style }) => {\n            var _a;\n            const { sortHandleAlign, role } = this.props;\n            const { items, activeItem } = this.state;\n            const item = this.getItemsWithLoading()[index];\n            const sortable = this.props.sortable && items.length > 1 && !this.getFilter();\n            const active = index === activeItem || index === this.props.activeItemIndex;\n            const Item = sortable ? SortableListItem : ListItem;\n            const selected = Array.isArray(this.props.selectedItemIndex)\n                ? this.props.selectedItemIndex.includes(index)\n                : index === this.props.selectedItemIndex;\n            return (React.createElement(Item, { key: index, style: style, index: index, itemIndex: index, item: item, sortable: sortable, sortHandleAlign: sortHandleAlign, renderItem: this.renderItemContent, itemClassName: this.props.itemClassName, active: active, selected: selected, onActivate: this.onItemActivate, onClick: this.props.onItemClick, role: role === 'listbox' ? 'option' : 'listitem', listId: (_a = this.props.id) !== null && _a !== void 0 ? _a : this.uniqId }));\n        };\n        this.filterItem = (filter) => (item) => {\n            return String(item).includes(filter);\n        };\n        this.scrollToIndex = (index) => {\n            const container = this.getContainer();\n            if (container) {\n                container.scrollToItem(index);\n            }\n        };\n        this.deactivate = () => {\n            if (!this.blurTimer) {\n                return;\n            }\n            if (this.props.deactivateOnLeave) {\n                this.setState({ activeItem: undefined });\n            }\n        };\n        this.handleFocus = () => {\n            if (this.blurTimer) {\n                clearTimeout(this.blurTimer);\n                this.blurTimer = null;\n            }\n        };\n        this.handleBlur = () => {\n            if (!this.blurTimer) {\n                this.blurTimer = setTimeout(this.deactivate, 50);\n            }\n        };\n        this.onUpdateFilterInternal = (value) => {\n            const { items, filterItem = this.filterItem, onFilterEnd } = this.props;\n            this.setState({\n                filter: value,\n                items: value ? items.filter(filterItem(value)) : items,\n            }, () => {\n                if (onFilterEnd) {\n                    onFilterEnd({ items: this.state.items });\n                }\n            });\n        };\n        this.onFilterUpdate = (value) => {\n            if (this.props.onFilterUpdate) {\n                this.props.onFilterUpdate(value);\n            }\n            else {\n                this.onUpdateFilterInternal(value);\n            }\n        };\n        this.onItemsRendered = ({ visibleStartIndex, visibleStopIndex, }) => {\n            this.setState({\n                pageSize: visibleStopIndex - visibleStartIndex,\n            });\n        };\n        this.onItemActivate = (index) => {\n            if (!this.state.sorting) {\n                this.activateItem(index, false);\n            }\n        };\n        this.onMouseLeave = () => {\n            this.deactivate();\n        };\n        this.onSortStart = () => {\n            this.setState({ sorting: true });\n        };\n        this.onSortEnd = (params) => {\n            if (this.props.onSortEnd) {\n                this.props.onSortEnd(params);\n            }\n            this.setState({\n                sorting: false,\n                activeItem: params.newIndex,\n            });\n        };\n        this.getItemHeight = (index) => {\n            const { itemHeight } = this.props;\n            if (typeof itemHeight === 'function') {\n                const { items } = this.state;\n                return itemHeight(items[index], index);\n            }\n            return itemHeight;\n        };\n        this.getVirtualizedItemHeight = (index) => {\n            return this.getItemHeight(index) || DEFAULT_ITEM_HEIGHT;\n        };\n    }\n    static moveListElement(list, oldIndex, newIndex) {\n        if (oldIndex !== newIndex) {\n            const [item] = list.splice(oldIndex, 1);\n            list.splice(newIndex, 0, item);\n        }\n        return list;\n    }\n    static findNextIndex(list, index, step) {\n        const dataLength = list.length;\n        let currentIndex = (index + dataLength) % dataLength;\n        for (let i = 0; i < dataLength; i += 1) {\n            if (list[currentIndex] && !list[currentIndex].disabled) {\n                return currentIndex;\n            }\n            currentIndex = (currentIndex + dataLength + step) % dataLength;\n        }\n        return undefined;\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.items !== prevProps.items) {\n            const filter = this.getFilter();\n            const internalFiltering = filter && !this.props.onFilterUpdate;\n            if (internalFiltering) {\n                this.onUpdateFilterInternal(filter);\n            }\n            else {\n                this.setState({ items: this.props.items });\n            }\n        }\n        if (this.props.activeItemIndex !== prevProps.activeItemIndex) {\n            this.activateItem(this.props.activeItemIndex);\n        }\n        if (this.props.onChangeActive && this.state.activeItem !== prevState.activeItem) {\n            this.props.onChangeActive(this.state.activeItem);\n        }\n    }\n    componentWillUnmount() {\n        this.blurTimer = null;\n    }\n    render() {\n        const { emptyPlaceholder, virtualized, className, itemsClassName, qa, role = 'list', } = this.props;\n        const { items } = this.state;\n        return (React.createElement(MobileContext.Consumer, null, ({ mobile }) => (\n        // The event handler should only be used to capture bubbled events\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", { className: b({ mobile }, className), \"data-qa\": qa, tabIndex: -1, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyDown: this.onKeyDown },\n            this.renderFilter(),\n            React.createElement(\"div\", { className: b('items', { virtualized }, itemsClassName), style: this.getItemsStyle(), onMouseLeave: this.onMouseLeave, role: role },\n                this.renderItems(),\n                items.length === 0 && Boolean(emptyPlaceholder) && (React.createElement(\"div\", { className: b('empty-placeholder') }, emptyPlaceholder)))))));\n    }\n    getItems() {\n        return this.state.items;\n    }\n    getItemsWithLoading() {\n        if (this.props.sortable) {\n            return this.getItems();\n        }\n        return this.props.loading ? [...this.state.items, this.loadingItem] : this.getItems();\n    }\n    getActiveItem() {\n        return typeof this.state.activeItem === 'number' ? this.state.activeItem : null;\n    }\n    activateItem(index, scrollTo = true) {\n        if (typeof index === 'number' && scrollTo) {\n            this.scrollToIndex(index);\n        }\n        this.setState({ activeItem: index });\n    }\n    renderFilter() {\n        const { size, filterable, filter = this.state.filter, filterPlaceholder, filterClassName = '', autoFocus, } = this.props;\n        if (!filterable) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: b('filter', filterClassName) },\n            React.createElement(TextInput, { controlRef: this.refFilter, size: size, placeholder: filterPlaceholder, value: filter, hasClear: true, onUpdate: this.onFilterUpdate, \n                // eslint-disable-next-line jsx-a11y/no-autofocus\n                autoFocus: autoFocus })));\n    }\n    renderSimpleContainer() {\n        const { sortable } = this.props;\n        const items = this.getItemsWithLoading();\n        const Container = sortable ? SortableSimpleContainer : SimpleContainer;\n        return (React.createElement(Container, { helperClass: b('item', { sorting: true }), distance: 5, lockAxis: \"y\", onSortStart: this.onSortStart, onSortEnd: this.onSortEnd, itemCount: items.length, ref: this.refContainer }, items.map((_item, index) => this.renderItem({ index, style: { height: this.getItemHeight(index) } }))));\n    }\n    renderVirtualizedContainer() {\n        const Container = this.props.sortable ? SortableListContainer : ListContainer;\n        const items = this.getItemsWithLoading();\n        return (React.createElement(AutoSizer, null, ({ width, height }) => (React.createElement(Container, { ref: this.refContainer, width: width, height: height, itemSize: this.getVirtualizedItemHeight, itemData: items, itemCount: items.length, overscanCount: 10, helperClass: b('item', { sorting: true }), distance: 5, lockAxis: \"y\", onItemsRendered: this.onItemsRendered, onSortStart: this.onSortStart, onSortEnd: this.onSortEnd, \n            // this property used to rerender items in viewport\n            // must be last, typescript skips checks for all props behind ts-ignore/ts-expect-error\n            // @ts-expect-error\n            activeItem: this.state.activeItem }, this.renderItem))));\n    }\n    renderItems() {\n        if (this.props.virtualized) {\n            return this.renderVirtualizedContainer();\n        }\n        else {\n            return this.renderSimpleContainer();\n        }\n    }\n    getContainer() {\n        const ref = this.refContainer.current;\n        const wrappedInstance = ref &&\n            'getWrappedInstance' in ref &&\n            typeof ref.getWrappedInstance === 'function' &&\n            ref.getWrappedInstance();\n        return this.props.sortable ? wrappedInstance : ref;\n    }\n    getFilter() {\n        const { filter = this.state.filter } = this.props;\n        return filter;\n    }\n    getItemsStyle() {\n        let { itemsHeight } = this.props;\n        if (typeof itemsHeight === 'function') {\n            itemsHeight = itemsHeight(this.state.items);\n        }\n        return itemsHeight ? { height: itemsHeight } : undefined;\n    }\n    handleKeyMove(event, step, defaultItemIndex = 0) {\n        event.preventDefault();\n        const { activeItem = defaultItemIndex } = this.state;\n        this.activateItem(List.findNextIndex(this.state.items, activeItem + step, Math.sign(step)));\n    }\n}\nList.defaultProps = listDefaultProps;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}