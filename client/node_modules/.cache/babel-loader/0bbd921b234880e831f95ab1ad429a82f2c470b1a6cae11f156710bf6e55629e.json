{"ast":null,"code":"import React from 'react';\nimport { block } from '../utils/cn';\nimport { isIcon } from '../utils/common';\nimport { eventBroker } from '../utils/event-broker';\nimport { isOfType } from '../utils/isOfType';\nimport { ButtonIcon } from './ButtonIcon';\nimport './Button.css';\nconst b = block('button');\nconst ButtonWithHandlers = React.forwardRef(function Button(_ref, ref) {\n  let {\n    view = 'normal',\n    size = 'm',\n    pin = 'round-round',\n    selected,\n    disabled = false,\n    loading = false,\n    width,\n    title,\n    tabIndex,\n    type = 'button',\n    component,\n    href,\n    target,\n    rel,\n    extraProps,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onFocus,\n    onBlur,\n    children,\n    id,\n    style,\n    className,\n    qa\n  } = _ref;\n  const handleClickCapture = React.useCallback(event => {\n    eventBroker.publish({\n      componentId: 'Button',\n      eventId: 'click',\n      domEvent: event,\n      meta: {\n        content: event.currentTarget.textContent,\n        view\n      }\n    });\n  }, [view]);\n  const commonProps = {\n    title,\n    tabIndex,\n    onClick,\n    onClickCapture: handleClickCapture,\n    onMouseEnter,\n    onMouseLeave,\n    onFocus,\n    onBlur,\n    id,\n    style,\n    className: b({\n      view,\n      size,\n      pin,\n      selected,\n      disabled: disabled || loading,\n      loading,\n      width\n    }, className),\n    'data-qa': qa\n  };\n  if (typeof href === 'string' || component) {\n    const linkProps = {\n      href,\n      target,\n      rel: target === '_blank' && !rel ? 'noopener noreferrer' : rel\n    };\n    return React.createElement(component || 'a', Object.assign(Object.assign(Object.assign(Object.assign({}, extraProps), commonProps), component ? {} : linkProps), {\n      ref: ref,\n      'aria-disabled': disabled || loading\n    }), prepareChildren(children));\n  } else {\n    return React.createElement(\"button\", Object.assign({}, extraProps, commonProps, {\n      ref: ref,\n      type: type,\n      disabled: disabled || loading,\n      \"aria-pressed\": selected\n    }), prepareChildren(children));\n  }\n});\nButtonWithHandlers.displayName = 'Button';\nexport const Button = Object.assign(ButtonWithHandlers, {\n  Icon: ButtonIcon\n});\nconst isButtonIconComponent = isOfType(ButtonIcon);\nfunction prepareChildren(children) {\n  const items = React.Children.toArray(children);\n  if (items.length === 1) {\n    const onlyItem = items[0];\n    if (isButtonIconComponent(onlyItem)) {\n      return onlyItem;\n    } else if (isIcon(onlyItem)) {\n      return React.createElement(Button.Icon, {\n        key: \"icon\"\n      }, onlyItem);\n    } else {\n      return React.createElement(\"span\", {\n        key: \"text\",\n        className: b('text')\n      }, onlyItem);\n    }\n  } else {\n    let leftIcon, rightIcon, text;\n    const content = [];\n    for (const item of items) {\n      const isIconElement = isIcon(item);\n      const isButtonIconElement = isButtonIconComponent(item);\n      if (isIconElement || isButtonIconElement) {\n        if (!leftIcon && content.length === 0) {\n          const key = 'icon-left';\n          const side = 'left';\n          if (isIconElement) {\n            leftIcon = React.createElement(Button.Icon, {\n              key: key,\n              side: side\n            }, item);\n          } else {\n            leftIcon = React.cloneElement(item, {\n              side\n            });\n          }\n        } else if (!rightIcon && content.length !== 0) {\n          const key = 'icon-right';\n          const side = 'right';\n          if (isIconElement) {\n            rightIcon = React.createElement(Button.Icon, {\n              key: key,\n              side: side\n            }, item);\n          } else {\n            rightIcon = React.cloneElement(item, {\n              side\n            });\n          }\n        }\n      } else {\n        content.push(item);\n      }\n    }\n    if (content.length > 0) {\n      text = React.createElement(\"span\", {\n        key: \"text\",\n        className: b('text')\n      }, content);\n    }\n    return [leftIcon, rightIcon, text];\n  }\n}","map":{"version":3,"names":["React","block","isIcon","eventBroker","isOfType","ButtonIcon","b","ButtonWithHandlers","forwardRef","Button","_ref","ref","view","size","pin","selected","disabled","loading","width","title","tabIndex","type","component","href","target","rel","extraProps","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","children","id","style","className","qa","handleClickCapture","useCallback","event","publish","componentId","eventId","domEvent","meta","content","currentTarget","textContent","commonProps","onClickCapture","linkProps","createElement","Object","assign","prepareChildren","displayName","Icon","isButtonIconComponent","items","Children","toArray","length","onlyItem","key","leftIcon","rightIcon","text","item","isIconElement","isButtonIconElement","side","cloneElement","push"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Button/Button.js"],"sourcesContent":["import React from 'react';\nimport { block } from '../utils/cn';\nimport { isIcon } from '../utils/common';\nimport { eventBroker } from '../utils/event-broker';\nimport { isOfType } from '../utils/isOfType';\nimport { ButtonIcon } from './ButtonIcon';\nimport './Button.css';\nconst b = block('button');\nconst ButtonWithHandlers = React.forwardRef(function Button({ view = 'normal', size = 'm', pin = 'round-round', selected, disabled = false, loading = false, width, title, tabIndex, type = 'button', component, href, target, rel, extraProps, onClick, onMouseEnter, onMouseLeave, onFocus, onBlur, children, id, style, className, qa, }, ref) {\n    const handleClickCapture = React.useCallback((event) => {\n        eventBroker.publish({\n            componentId: 'Button',\n            eventId: 'click',\n            domEvent: event,\n            meta: {\n                content: event.currentTarget.textContent,\n                view,\n            },\n        });\n    }, [view]);\n    const commonProps = {\n        title,\n        tabIndex,\n        onClick,\n        onClickCapture: handleClickCapture,\n        onMouseEnter,\n        onMouseLeave,\n        onFocus,\n        onBlur,\n        id,\n        style,\n        className: b({\n            view,\n            size,\n            pin,\n            selected,\n            disabled: disabled || loading,\n            loading,\n            width,\n        }, className),\n        'data-qa': qa,\n    };\n    if (typeof href === 'string' || component) {\n        const linkProps = {\n            href,\n            target,\n            rel: target === '_blank' && !rel ? 'noopener noreferrer' : rel,\n        };\n        return React.createElement(component || 'a', Object.assign(Object.assign(Object.assign(Object.assign({}, extraProps), commonProps), (component ? {} : linkProps)), { ref: ref, 'aria-disabled': disabled || loading }), prepareChildren(children));\n    }\n    else {\n        return (React.createElement(\"button\", Object.assign({}, extraProps, commonProps, { ref: ref, type: type, disabled: disabled || loading, \"aria-pressed\": selected }), prepareChildren(children)));\n    }\n});\nButtonWithHandlers.displayName = 'Button';\nexport const Button = Object.assign(ButtonWithHandlers, { Icon: ButtonIcon });\nconst isButtonIconComponent = isOfType(ButtonIcon);\nfunction prepareChildren(children) {\n    const items = React.Children.toArray(children);\n    if (items.length === 1) {\n        const onlyItem = items[0];\n        if (isButtonIconComponent(onlyItem)) {\n            return onlyItem;\n        }\n        else if (isIcon(onlyItem)) {\n            return React.createElement(Button.Icon, { key: \"icon\" }, onlyItem);\n        }\n        else {\n            return (React.createElement(\"span\", { key: \"text\", className: b('text') }, onlyItem));\n        }\n    }\n    else {\n        let leftIcon, rightIcon, text;\n        const content = [];\n        for (const item of items) {\n            const isIconElement = isIcon(item);\n            const isButtonIconElement = isButtonIconComponent(item);\n            if (isIconElement || isButtonIconElement) {\n                if (!leftIcon && content.length === 0) {\n                    const key = 'icon-left';\n                    const side = 'left';\n                    if (isIconElement) {\n                        leftIcon = (React.createElement(Button.Icon, { key: key, side: side }, item));\n                    }\n                    else {\n                        leftIcon = React.cloneElement(item, {\n                            side,\n                        });\n                    }\n                }\n                else if (!rightIcon && content.length !== 0) {\n                    const key = 'icon-right';\n                    const side = 'right';\n                    if (isIconElement) {\n                        rightIcon = (React.createElement(Button.Icon, { key: key, side: side }, item));\n                    }\n                    else {\n                        rightIcon = React.cloneElement(item, {\n                            side,\n                        });\n                    }\n                }\n            }\n            else {\n                content.push(item);\n            }\n        }\n        if (content.length > 0) {\n            text = (React.createElement(\"span\", { key: \"text\", className: b('text') }, content));\n        }\n        return [leftIcon, rightIcon, text];\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}