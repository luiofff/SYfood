{"ast":null,"code":"import React from 'react';\nimport _range from 'lodash/range';\nfunction getRefs(count) {\n  return _range(count).reduce((acc, index) => {\n    acc[index] = React.createRef();\n    return acc;\n  }, {});\n}\nexport class SimpleContainer extends React.Component {\n  static getDerivedStateFromProps({\n    itemCount\n  }, prevState) {\n    const refsCount = Object.keys(prevState).length;\n    if (itemCount === refsCount) {\n      return prevState;\n    } else {\n      return getRefs(itemCount);\n    }\n  }\n  constructor(props) {\n    super(props);\n    this.state = getRefs(props.itemCount);\n  }\n  render() {\n    const children = React.Children.map(this.props.children, (child, index) => React.cloneElement(child, {\n      ref: this.state[index]\n    }));\n    return React.createElement(\"div\", null, children);\n  }\n  scrollToItem(index) {\n    var _a, _b, _c;\n    const listItem = (_a = this.state[index]) === null || _a === void 0 ? void 0 : _a.current;\n    if (listItem && typeof listItem.getRef === 'function') {\n      const ref = listItem.getRef();\n      if (ref.current) {\n        (_c = (_b = ref.current).scrollIntoView) === null || _c === void 0 ? void 0 : _c.call(_b, {\n          block: 'nearest'\n        });\n      }\n    }\n  }\n}","map":{"version":3,"names":["React","_range","getRefs","count","reduce","acc","index","createRef","SimpleContainer","Component","getDerivedStateFromProps","itemCount","prevState","refsCount","Object","keys","length","constructor","props","state","render","children","Children","map","child","cloneElement","ref","createElement","scrollToItem","_a","_b","_c","listItem","current","getRef","scrollIntoView","call","block"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/List/components/SimpleContainer.js"],"sourcesContent":["import React from 'react';\nimport _range from 'lodash/range';\nfunction getRefs(count) {\n    return _range(count).reduce((acc, index) => {\n        acc[index] = React.createRef();\n        return acc;\n    }, {});\n}\nexport class SimpleContainer extends React.Component {\n    static getDerivedStateFromProps({ itemCount }, prevState) {\n        const refsCount = Object.keys(prevState).length;\n        if (itemCount === refsCount) {\n            return prevState;\n        }\n        else {\n            return getRefs(itemCount);\n        }\n    }\n    constructor(props) {\n        super(props);\n        this.state = getRefs(props.itemCount);\n    }\n    render() {\n        const children = React.Children.map(this.props.children, (child, index) => React.cloneElement(child, { ref: this.state[index] }));\n        return React.createElement(\"div\", null, children);\n    }\n    scrollToItem(index) {\n        var _a, _b, _c;\n        const listItem = (_a = this.state[index]) === null || _a === void 0 ? void 0 : _a.current;\n        if (listItem && typeof listItem.getRef === 'function') {\n            const ref = listItem.getRef();\n            if (ref.current) {\n                (_c = (_b = ref.current).scrollIntoView) === null || _c === void 0 ? void 0 : _c.call(_b, {\n                    block: 'nearest',\n                });\n            }\n        }\n    }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,OAAOA,CAACC,KAAK,EAAE;EACpB,OAAOF,MAAM,CAACE,KAAK,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;IACxCD,GAAG,CAACC,KAAK,CAAC,GAAGN,KAAK,CAACO,SAAS,CAAC,CAAC;IAC9B,OAAOF,GAAG;EACd,CAAC,EAAE,CAAC,CAAC,CAAC;AACV;AACA,OAAO,MAAMG,eAAe,SAASR,KAAK,CAACS,SAAS,CAAC;EACjD,OAAOC,wBAAwBA,CAAC;IAAEC;EAAU,CAAC,EAAEC,SAAS,EAAE;IACtD,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,MAAM;IAC/C,IAAIL,SAAS,KAAKE,SAAS,EAAE;MACzB,OAAOD,SAAS;IACpB,CAAC,MACI;MACD,OAAOV,OAAO,CAACS,SAAS,CAAC;IAC7B;EACJ;EACAM,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAGjB,OAAO,CAACgB,KAAK,CAACP,SAAS,CAAC;EACzC;EACAS,MAAMA,CAAA,EAAG;IACL,MAAMC,QAAQ,GAAGrB,KAAK,CAACsB,QAAQ,CAACC,GAAG,CAAC,IAAI,CAACL,KAAK,CAACG,QAAQ,EAAE,CAACG,KAAK,EAAElB,KAAK,KAAKN,KAAK,CAACyB,YAAY,CAACD,KAAK,EAAE;MAAEE,GAAG,EAAE,IAAI,CAACP,KAAK,CAACb,KAAK;IAAE,CAAC,CAAC,CAAC;IACjI,OAAON,KAAK,CAAC2B,aAAa,CAAC,KAAK,EAAE,IAAI,EAAEN,QAAQ,CAAC;EACrD;EACAO,YAAYA,CAACtB,KAAK,EAAE;IAChB,IAAIuB,EAAE,EAAEC,EAAE,EAAEC,EAAE;IACd,MAAMC,QAAQ,GAAG,CAACH,EAAE,GAAG,IAAI,CAACV,KAAK,CAACb,KAAK,CAAC,MAAM,IAAI,IAAIuB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,OAAO;IACzF,IAAID,QAAQ,IAAI,OAAOA,QAAQ,CAACE,MAAM,KAAK,UAAU,EAAE;MACnD,MAAMR,GAAG,GAAGM,QAAQ,CAACE,MAAM,CAAC,CAAC;MAC7B,IAAIR,GAAG,CAACO,OAAO,EAAE;QACb,CAACF,EAAE,GAAG,CAACD,EAAE,GAAGJ,GAAG,CAACO,OAAO,EAAEE,cAAc,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACK,IAAI,CAACN,EAAE,EAAE;UACtFO,KAAK,EAAE;QACX,CAAC,CAAC;MACN;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}