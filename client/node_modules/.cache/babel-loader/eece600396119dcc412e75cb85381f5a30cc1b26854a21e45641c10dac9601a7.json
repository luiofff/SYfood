{"ast":null,"code":"/* eslint-disable valid-jsdoc */\nimport React from 'react';\nexport const mockMediaQueryList = {\n  media: '',\n  matches: false,\n  onchange: () => {},\n  addListener: () => {},\n  removeListener: () => {},\n  addEventListener: () => {},\n  removeEventListener: () => {},\n  dispatchEvent: _ => true\n};\nexport const makeCurrentActiveMediaExpressions = mediaToValue => ({\n  s: \"(max-width: \".concat(mediaToValue.m - 1, \"px)\"),\n  m: \"(min-width: \".concat(mediaToValue.m, \"px) and (max-width: \").concat(mediaToValue.l - 1, \"px)\"),\n  l: \"(min-width: \".concat(mediaToValue.l, \"px) and (max-width: \").concat(mediaToValue.xl - 1, \"px)\"),\n  xl: \"(min-width: \".concat(mediaToValue.xl, \"px) and (max-width: \").concat(mediaToValue.xxl - 1, \"px)\"),\n  xxl: \"(min-width: \".concat(mediaToValue.xxl, \"px) and (max-width: \").concat(mediaToValue.xxxl - 1, \"px)\"),\n  xxxl: \"(min-width: \".concat(mediaToValue.xxxl, \"px)\")\n});\nconst safeMatchMedia = query => {\n  if (typeof window === 'undefined' || typeof window.matchMedia !== 'function') {\n    return mockMediaQueryList;\n  }\n  return window.matchMedia(String(query));\n};\nclass Queries {\n  constructor(breakpointsMap) {\n    this.queryListsDecl = [];\n    const mediaToExpressionMap = makeCurrentActiveMediaExpressions(breakpointsMap);\n    this.queryListsDecl = [\n    // order important here\n    ['s', safeMatchMedia(mediaToExpressionMap.s)], ['m', safeMatchMedia(mediaToExpressionMap.m)], ['l', safeMatchMedia(mediaToExpressionMap.l)], ['xl', safeMatchMedia(mediaToExpressionMap.xl)], ['xxl', safeMatchMedia(mediaToExpressionMap.xxl)], ['xxxl', safeMatchMedia(mediaToExpressionMap.xxxl)]];\n  }\n  getCurrentActiveMedia() {\n    const activeMedia = this.queryListsDecl.find(_ref => {\n      let [_, queryList] = _ref;\n      return queryList.matches;\n    });\n    if (!activeMedia) {\n      return 's';\n    }\n    return activeMedia[0];\n  }\n  addListeners(fn) {\n    this.queryListsDecl.forEach(_ref2 => {\n      let [_, queryList] = _ref2;\n      return queryList.addEventListener('change', fn);\n    });\n  }\n  removeListeners(fn) {\n    this.queryListsDecl.forEach(_ref3 => {\n      let [_, queryList] = _ref3;\n      return queryList.removeEventListener('change', fn);\n    });\n  }\n}\n/**\n * @private - use `useLayoutContext` hook instead\n */\nexport const useCurrentActiveMediaQuery = function (breakpointsMap) {\n  let initialMediaQuery = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 's';\n  const [state, _setState] = React.useState(initialMediaQuery);\n  React.useLayoutEffect(() => {\n    let mounted = true;\n    const queries = new Queries(breakpointsMap);\n    const setState = () => {\n      _setState(queries.getCurrentActiveMedia());\n    };\n    const onChange = () => {\n      if (!mounted) {\n        return;\n      }\n      setState();\n    };\n    queries.addListeners(onChange);\n    setState();\n    return () => {\n      mounted = false;\n      queries.removeListeners(onChange);\n    };\n    // don't support runtime breakpoint redefinition. Breakpoints defined only one at LayoutTheme\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return state;\n};","map":{"version":3,"names":["React","mockMediaQueryList","media","matches","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","_","makeCurrentActiveMediaExpressions","mediaToValue","s","concat","m","l","xl","xxl","xxxl","safeMatchMedia","query","window","matchMedia","String","Queries","constructor","breakpointsMap","queryListsDecl","mediaToExpressionMap","getCurrentActiveMedia","activeMedia","find","_ref","queryList","addListeners","fn","forEach","_ref2","removeListeners","_ref3","useCurrentActiveMediaQuery","initialMediaQuery","arguments","length","undefined","state","_setState","useState","useLayoutEffect","mounted","queries","setState","onChange"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/layout/hooks/useCurrentActiveMediaQuery.js"],"sourcesContent":["/* eslint-disable valid-jsdoc */\nimport React from 'react';\nexport const mockMediaQueryList = {\n    media: '',\n    matches: false,\n    onchange: () => { },\n    addListener: () => { },\n    removeListener: () => { },\n    addEventListener: () => { },\n    removeEventListener: () => { },\n    dispatchEvent: (_) => true,\n};\nexport const makeCurrentActiveMediaExpressions = (mediaToValue) => ({\n    s: `(max-width: ${mediaToValue.m - 1}px)`,\n    m: `(min-width: ${mediaToValue.m}px) and (max-width: ${mediaToValue.l - 1}px)`,\n    l: `(min-width: ${mediaToValue.l}px) and (max-width: ${mediaToValue.xl - 1}px)`,\n    xl: `(min-width: ${mediaToValue.xl}px) and (max-width: ${mediaToValue.xxl - 1}px)`,\n    xxl: `(min-width: ${mediaToValue.xxl}px) and (max-width: ${mediaToValue.xxxl - 1}px)`,\n    xxxl: `(min-width: ${mediaToValue.xxxl}px)`,\n});\nconst safeMatchMedia = (query) => {\n    if (typeof window === 'undefined' || typeof window.matchMedia !== 'function') {\n        return mockMediaQueryList;\n    }\n    return window.matchMedia(String(query));\n};\nclass Queries {\n    constructor(breakpointsMap) {\n        this.queryListsDecl = [];\n        const mediaToExpressionMap = makeCurrentActiveMediaExpressions(breakpointsMap);\n        this.queryListsDecl = [\n            // order important here\n            ['s', safeMatchMedia(mediaToExpressionMap.s)],\n            ['m', safeMatchMedia(mediaToExpressionMap.m)],\n            ['l', safeMatchMedia(mediaToExpressionMap.l)],\n            ['xl', safeMatchMedia(mediaToExpressionMap.xl)],\n            ['xxl', safeMatchMedia(mediaToExpressionMap.xxl)],\n            ['xxxl', safeMatchMedia(mediaToExpressionMap.xxxl)],\n        ];\n    }\n    getCurrentActiveMedia() {\n        const activeMedia = this.queryListsDecl.find(([_, queryList]) => queryList.matches);\n        if (!activeMedia) {\n            return 's';\n        }\n        return activeMedia[0];\n    }\n    addListeners(fn) {\n        this.queryListsDecl.forEach(([_, queryList]) => queryList.addEventListener('change', fn));\n    }\n    removeListeners(fn) {\n        this.queryListsDecl.forEach(([_, queryList]) => queryList.removeEventListener('change', fn));\n    }\n}\n/**\n * @private - use `useLayoutContext` hook instead\n */\nexport const useCurrentActiveMediaQuery = (breakpointsMap, initialMediaQuery = 's') => {\n    const [state, _setState] = React.useState(initialMediaQuery);\n    React.useLayoutEffect(() => {\n        let mounted = true;\n        const queries = new Queries(breakpointsMap);\n        const setState = () => {\n            _setState(queries.getCurrentActiveMedia());\n        };\n        const onChange = () => {\n            if (!mounted) {\n                return;\n            }\n            setState();\n        };\n        queries.addListeners(onChange);\n        setState();\n        return () => {\n            mounted = false;\n            queries.removeListeners(onChange);\n        };\n        // don't support runtime breakpoint redefinition. Breakpoints defined only one at LayoutTheme\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return state;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}