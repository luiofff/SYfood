{"ast":null,"code":"import React from 'react';\nimport { CircleCheck, CircleInfo, TriangleExclamation, Xmark } from '@gravity-ui/icons';\nimport { Button } from '../../Button';\nimport { Icon } from '../../Icon';\nimport { block } from '../../utils/cn';\nimport { useCloseOnTimeout } from '../../utils/useCloseOnTimeout';\nimport i18n from '../i18n';\nimport './Toast.css';\nconst b = block('toast');\nconst DEFAULT_TIMEOUT = 5000;\nconst TITLE_ICONS = {\n  info: CircleInfo,\n  success: CircleCheck,\n  warning: TriangleExclamation,\n  error: TriangleExclamation\n};\nfunction renderActions({\n  actions,\n  onClose\n}) {\n  if (!actions || !actions.length) {\n    return null;\n  }\n  return React.createElement(\"div\", {\n    className: b('actions')\n  }, actions.map(({\n    label,\n    onClick,\n    view = 'outlined',\n    removeAfterClick = true\n  }, index) => {\n    const onActionClick = () => {\n      onClick();\n      if (removeAfterClick) {\n        onClose();\n      }\n    };\n    return React.createElement(Button, {\n      key: `${label}__${index}`,\n      className: b('action'),\n      onClick: onActionClick,\n      type: \"button\",\n      size: 'l',\n      view: view\n    }, label);\n  }));\n}\nfunction renderIconByType({\n  type\n}) {\n  if (!type) {\n    return null;\n  }\n  return React.createElement(Icon, {\n    data: TITLE_ICONS[type],\n    size: 20,\n    className: b('icon', {\n      [type]: true\n    })\n  });\n}\nexport const Toast = React.forwardRef(function Toast(props, ref) {\n  const {\n    name,\n    content,\n    actions,\n    title,\n    className,\n    type,\n    renderIcon,\n    autoHiding: timeoutProp = DEFAULT_TIMEOUT,\n    isClosable = true,\n    mobile = false,\n    removeCallback\n  } = props;\n  const onClose = React.useCallback(() => removeCallback(name), [removeCallback, name]);\n  const timeout = typeof timeoutProp === 'number' ? timeoutProp : undefined;\n  const closeOnTimeoutProps = useCloseOnTimeout({\n    onClose,\n    timeout\n  });\n  const mods = {\n    mobile,\n    [type || 'default']: true\n  };\n  const hasTitle = Boolean(title);\n  const hasContent = Boolean(content);\n  const icon = renderIcon ? renderIcon(props) : renderIconByType({\n    type\n  });\n  return React.createElement(\"div\", Object.assign({\n    ref: ref,\n    className: b(mods, className)\n  }, closeOnTimeoutProps, {\n    \"data-toast\": true\n  }), icon && React.createElement(\"div\", {\n    className: b('icon-container')\n  }, icon), React.createElement(\"div\", {\n    className: b('container')\n  }, hasTitle && React.createElement(\"h3\", {\n    className: b('title')\n  }, title), isClosable && React.createElement(Button, {\n    size: 's',\n    view: \"flat\",\n    className: b('btn-close'),\n    onClick: onClose,\n    extraProps: {\n      'aria-label': i18n('label_close-button')\n    }\n  }, React.createElement(Icon, {\n    data: Xmark\n  })), hasContent && React.createElement(\"div\", {\n    className: b('content', {\n      'without-title': !hasTitle\n    })\n  }, content), renderActions({\n    actions,\n    onClose\n  })));\n});","map":{"version":3,"names":["React","CircleCheck","CircleInfo","TriangleExclamation","Xmark","Button","Icon","block","useCloseOnTimeout","i18n","b","DEFAULT_TIMEOUT","TITLE_ICONS","info","success","warning","error","renderActions","actions","onClose","length","createElement","className","map","label","onClick","view","removeAfterClick","index","onActionClick","key","type","size","renderIconByType","data","Toast","forwardRef","props","ref","name","content","title","renderIcon","autoHiding","timeoutProp","isClosable","mobile","removeCallback","useCallback","timeout","undefined","closeOnTimeoutProps","mods","hasTitle","Boolean","hasContent","icon","Object","assign","extraProps"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/Toaster/Toast/Toast.js"],"sourcesContent":["import React from 'react';\nimport { CircleCheck, CircleInfo, TriangleExclamation, Xmark } from '@gravity-ui/icons';\nimport { Button } from '../../Button';\nimport { Icon } from '../../Icon';\nimport { block } from '../../utils/cn';\nimport { useCloseOnTimeout } from '../../utils/useCloseOnTimeout';\nimport i18n from '../i18n';\nimport './Toast.css';\nconst b = block('toast');\nconst DEFAULT_TIMEOUT = 5000;\nconst TITLE_ICONS = {\n    info: CircleInfo,\n    success: CircleCheck,\n    warning: TriangleExclamation,\n    error: TriangleExclamation,\n};\nfunction renderActions({ actions, onClose }) {\n    if (!actions || !actions.length) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: b('actions') }, actions.map(({ label, onClick, view = 'outlined', removeAfterClick = true }, index) => {\n        const onActionClick = () => {\n            onClick();\n            if (removeAfterClick) {\n                onClose();\n            }\n        };\n        return (React.createElement(Button, { key: `${label}__${index}`, className: b('action'), onClick: onActionClick, type: \"button\", size: 'l', view: view }, label));\n    })));\n}\nfunction renderIconByType({ type }) {\n    if (!type) {\n        return null;\n    }\n    return React.createElement(Icon, { data: TITLE_ICONS[type], size: 20, className: b('icon', { [type]: true }) });\n}\nexport const Toast = React.forwardRef(function Toast(props, ref) {\n    const { name, content, actions, title, className, type, renderIcon, autoHiding: timeoutProp = DEFAULT_TIMEOUT, isClosable = true, mobile = false, removeCallback, } = props;\n    const onClose = React.useCallback(() => removeCallback(name), [removeCallback, name]);\n    const timeout = typeof timeoutProp === 'number' ? timeoutProp : undefined;\n    const closeOnTimeoutProps = useCloseOnTimeout({ onClose, timeout });\n    const mods = {\n        mobile,\n        [type || 'default']: true,\n    };\n    const hasTitle = Boolean(title);\n    const hasContent = Boolean(content);\n    const icon = renderIcon ? renderIcon(props) : renderIconByType({ type });\n    return (React.createElement(\"div\", Object.assign({ ref: ref, className: b(mods, className) }, closeOnTimeoutProps, { \"data-toast\": true }),\n        icon && React.createElement(\"div\", { className: b('icon-container') }, icon),\n        React.createElement(\"div\", { className: b('container') },\n            hasTitle && React.createElement(\"h3\", { className: b('title') }, title),\n            isClosable && (React.createElement(Button, { size: 's', view: \"flat\", className: b('btn-close'), onClick: onClose, extraProps: { 'aria-label': i18n('label_close-button') } },\n                React.createElement(Icon, { data: Xmark }))),\n            hasContent && (React.createElement(\"div\", { className: b('content', { 'without-title': !hasTitle }) }, content)),\n            renderActions({ actions, onClose }))));\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}