{"ast":null,"code":"import React from 'react';\nimport { block } from '../utils/cn';\nimport { defsByPlatform } from './definitions';\nimport { parseKeyGroups } from './parse';\nimport { isMac } from './utils';\nimport './Hotkey.css';\nconst b = block('hotkey');\nconst Spaces = {\n  BetweenGroups: String.fromCharCode(160),\n  BetweenKeys: String.fromCharCode(8239) // Narrow No-Break Space\n};\n\nexport const Hotkey = React.forwardRef(function Hotkey(props, ref) {\n  const {\n    value,\n    platform,\n    view = 'light',\n    qa,\n    style,\n    className\n  } = props;\n  const groups = parseHotkeys(value, {\n    platform\n  });\n  const content = [];\n  let hasGroups = false;\n  groups.forEach((keys, groupIdx) => {\n    if (keys.length === 0) return;\n    if (hasGroups) {\n      content.push(Spaces.BetweenGroups);\n    } else {\n      hasGroups = true;\n    }\n    keys.forEach((key, keyIdx) => {\n      const isFirstKey = keyIdx === 0;\n      if (!isFirstKey) {\n        content.push(Spaces.BetweenKeys, React.createElement(\"span\", {\n          key: `${key}_${groupIdx}_${keyIdx}_plus`,\n          className: b('plus')\n        }, \"+\"), Spaces.BetweenKeys);\n      }\n      content.push(React.createElement(\"kbd\", {\n        key: `${key}_${groupIdx}_${keyIdx}`\n      }, key));\n    });\n  });\n  if (content.length === 0) return null;\n  return React.createElement(\"kbd\", {\n    ref: ref,\n    style: style,\n    \"data-qa\": qa,\n    className: b({\n      view\n    }, className)\n  }, content);\n});\nexport function parseHotkeys(value, opts) {\n  var _a;\n  const platform = (_a = opts.platform) !== null && _a !== void 0 ? _a : isMac() ? 'mac' : 'pc';\n  const defs = defsByPlatform[platform];\n  return parseKeyGroups(defs, value);\n}","map":{"version":3,"names":["React","block","defsByPlatform","parseKeyGroups","isMac","b","Spaces","BetweenGroups","String","fromCharCode","BetweenKeys","Hotkey","forwardRef","props","ref","value","platform","view","qa","style","className","groups","parseHotkeys","content","hasGroups","forEach","keys","groupIdx","length","push","key","keyIdx","isFirstKey","createElement","opts","_a","defs"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/Hotkey/Hotkey.js"],"sourcesContent":["import React from 'react';\nimport { block } from '../utils/cn';\nimport { defsByPlatform } from './definitions';\nimport { parseKeyGroups } from './parse';\nimport { isMac } from './utils';\nimport './Hotkey.css';\nconst b = block('hotkey');\nconst Spaces = {\n    BetweenGroups: String.fromCharCode(160),\n    BetweenKeys: String.fromCharCode(8239), // Narrow No-Break Space\n};\nexport const Hotkey = React.forwardRef(function Hotkey(props, ref) {\n    const { value, platform, view = 'light', qa, style, className } = props;\n    const groups = parseHotkeys(value, { platform });\n    const content = [];\n    let hasGroups = false;\n    groups.forEach((keys, groupIdx) => {\n        if (keys.length === 0)\n            return;\n        if (hasGroups) {\n            content.push(Spaces.BetweenGroups);\n        }\n        else {\n            hasGroups = true;\n        }\n        keys.forEach((key, keyIdx) => {\n            const isFirstKey = keyIdx === 0;\n            if (!isFirstKey) {\n                content.push(Spaces.BetweenKeys, React.createElement(\"span\", { key: `${key}_${groupIdx}_${keyIdx}_plus`, className: b('plus') }, \"+\"), Spaces.BetweenKeys);\n            }\n            content.push(React.createElement(\"kbd\", { key: `${key}_${groupIdx}_${keyIdx}` }, key));\n        });\n    });\n    if (content.length === 0)\n        return null;\n    return (React.createElement(\"kbd\", { ref: ref, style: style, \"data-qa\": qa, className: b({ view }, className) }, content));\n});\nexport function parseHotkeys(value, opts) {\n    var _a;\n    const platform = (_a = opts.platform) !== null && _a !== void 0 ? _a : (isMac() ? 'mac' : 'pc');\n    const defs = defsByPlatform[platform];\n    return parseKeyGroups(defs, value);\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,aAAa;AACnC,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,cAAc,QAAQ,SAAS;AACxC,SAASC,KAAK,QAAQ,SAAS;AAC/B,OAAO,cAAc;AACrB,MAAMC,CAAC,GAAGJ,KAAK,CAAC,QAAQ,CAAC;AACzB,MAAMK,MAAM,GAAG;EACXC,aAAa,EAAEC,MAAM,CAACC,YAAY,CAAC,GAAG,CAAC;EACvCC,WAAW,EAAEF,MAAM,CAACC,YAAY,CAAC,IAAI,CAAC,CAAE;AAC5C,CAAC;;AACD,OAAO,MAAME,MAAM,GAAGX,KAAK,CAACY,UAAU,CAAC,SAASD,MAAMA,CAACE,KAAK,EAAEC,GAAG,EAAE;EAC/D,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,IAAI,GAAG,OAAO;IAAEC,EAAE;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGP,KAAK;EACvE,MAAMQ,MAAM,GAAGC,YAAY,CAACP,KAAK,EAAE;IAAEC;EAAS,CAAC,CAAC;EAChD,MAAMO,OAAO,GAAG,EAAE;EAClB,IAAIC,SAAS,GAAG,KAAK;EACrBH,MAAM,CAACI,OAAO,CAAC,CAACC,IAAI,EAAEC,QAAQ,KAAK;IAC/B,IAAID,IAAI,CAACE,MAAM,KAAK,CAAC,EACjB;IACJ,IAAIJ,SAAS,EAAE;MACXD,OAAO,CAACM,IAAI,CAACvB,MAAM,CAACC,aAAa,CAAC;IACtC,CAAC,MACI;MACDiB,SAAS,GAAG,IAAI;IACpB;IACAE,IAAI,CAACD,OAAO,CAAC,CAACK,GAAG,EAAEC,MAAM,KAAK;MAC1B,MAAMC,UAAU,GAAGD,MAAM,KAAK,CAAC;MAC/B,IAAI,CAACC,UAAU,EAAE;QACbT,OAAO,CAACM,IAAI,CAACvB,MAAM,CAACI,WAAW,EAAEV,KAAK,CAACiC,aAAa,CAAC,MAAM,EAAE;UAAEH,GAAG,EAAG,GAAEA,GAAI,IAAGH,QAAS,IAAGI,MAAO,OAAM;UAAEX,SAAS,EAAEf,CAAC,CAAC,MAAM;QAAE,CAAC,EAAE,GAAG,CAAC,EAAEC,MAAM,CAACI,WAAW,CAAC;MAC9J;MACAa,OAAO,CAACM,IAAI,CAAC7B,KAAK,CAACiC,aAAa,CAAC,KAAK,EAAE;QAAEH,GAAG,EAAG,GAAEA,GAAI,IAAGH,QAAS,IAAGI,MAAO;MAAE,CAAC,EAAED,GAAG,CAAC,CAAC;IAC1F,CAAC,CAAC;EACN,CAAC,CAAC;EACF,IAAIP,OAAO,CAACK,MAAM,KAAK,CAAC,EACpB,OAAO,IAAI;EACf,OAAQ5B,KAAK,CAACiC,aAAa,CAAC,KAAK,EAAE;IAAEnB,GAAG,EAAEA,GAAG;IAAEK,KAAK,EAAEA,KAAK;IAAE,SAAS,EAAED,EAAE;IAAEE,SAAS,EAAEf,CAAC,CAAC;MAAEY;IAAK,CAAC,EAAEG,SAAS;EAAE,CAAC,EAAEG,OAAO,CAAC;AAC7H,CAAC,CAAC;AACF,OAAO,SAASD,YAAYA,CAACP,KAAK,EAAEmB,IAAI,EAAE;EACtC,IAAIC,EAAE;EACN,MAAMnB,QAAQ,GAAG,CAACmB,EAAE,GAAGD,IAAI,CAAClB,QAAQ,MAAM,IAAI,IAAImB,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAI/B,KAAK,CAAC,CAAC,GAAG,KAAK,GAAG,IAAK;EAC/F,MAAMgC,IAAI,GAAGlC,cAAc,CAACc,QAAQ,CAAC;EACrC,OAAOb,cAAc,CAACiC,IAAI,EAAErB,KAAK,CAAC;AACtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}