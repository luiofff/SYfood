{"ast":null,"code":"import React from 'react';\nimport { KeyCode } from '../../constants';\nimport { useFocusWithin, useForkRef, useSelect, useUniqId } from '../../hooks';\nimport { useMobile } from '../mobile';\nimport { EmptyOptions, SelectControl, SelectFilter, SelectList, SelectPopup } from './components';\nimport { DEFAULT_VIRTUALIZATION_THRESHOLD, selectBlock } from './constants';\nimport { useQuickSearch } from './hooks';\nimport { initialState, reducer } from './store';\nimport { Option, OptionGroup } from './tech-components';\nimport { activateFirstClickableItem, findItemIndexByQuickSearch, getActiveItem, getFilteredFlattenOptions, getFlattenOptions, getListItems, getOptionsFromChildren, getSelectedOptionsContent } from './utils';\nimport './Select.css';\nexport const Select = React.forwardRef(function Select(props, ref) {\n  const {\n    onUpdate,\n    onOpenChange,\n    onFilterChange,\n    renderControl,\n    renderFilter,\n    renderOption,\n    renderOptionGroup,\n    renderSelectedOption,\n    renderEmptyOptions,\n    getOptionHeight,\n    getOptionGroupHeight,\n    filterOption,\n    name,\n    className,\n    controlClassName,\n    popupClassName,\n    qa,\n    value: propsValue,\n    defaultValue,\n    defaultOpen,\n    open: propsOpen,\n    label,\n    placeholder,\n    filterPlaceholder,\n    width,\n    popupWidth,\n    error,\n    virtualizationThreshold = DEFAULT_VIRTUALIZATION_THRESHOLD,\n    view = 'normal',\n    size = 'm',\n    pin = 'round-round',\n    multiple = false,\n    disabled = false,\n    filterable = false,\n    disablePortal,\n    hasClear = false,\n    onClose,\n    id\n  } = props;\n  const [mobile] = useMobile();\n  const [{\n    filter\n  }, dispatch] = React.useReducer(reducer, initialState);\n  // to avoid problem with incorrect popper offset calculation\n  // for example: https://github.com/radix-ui/primitives/issues/1567\n  const controlWrapRef = React.useRef(null);\n  const controlRef = React.useRef(null);\n  const filterRef = React.useRef(null);\n  const listRef = React.useRef(null);\n  const handleControlRef = useForkRef(ref, controlRef);\n  const {\n    value,\n    open,\n    activeIndex,\n    toggleOpen,\n    handleSelection,\n    handleClearValue,\n    setActiveIndex\n  } = useSelect({\n    onUpdate,\n    value: propsValue,\n    defaultValue,\n    defaultOpen,\n    multiple,\n    open: propsOpen,\n    onClose,\n    onOpenChange\n  });\n  const uniqId = useUniqId();\n  const selectId = id !== null && id !== void 0 ? id : uniqId;\n  const options = props.options || getOptionsFromChildren(props.children);\n  const flattenOptions = getFlattenOptions(options);\n  const filteredFlattenOptions = filterable ? getFilteredFlattenOptions({\n    options: flattenOptions,\n    filter,\n    filterOption\n  }) : flattenOptions;\n  const selectedOptionsContent = getSelectedOptionsContent(flattenOptions, value, renderSelectedOption);\n  const virtualized = filteredFlattenOptions.length >= virtualizationThreshold;\n  const handleOptionClick = React.useCallback(option => {\n    var _a, _b;\n    if (!option || (option === null || option === void 0 ? void 0 : option.disabled) || 'label' in option) {\n      return;\n    }\n    if (multiple) {\n      const activeItemIndex = (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.getActiveItem();\n      (_b = filterRef.current) === null || _b === void 0 ? void 0 : _b.focus();\n      if (typeof activeItemIndex === 'number') {\n        // prevent item deactivation in case of multiple selection\n        // https://github.com/gravity-ui/uikit/blob/main/src/components/List/List.tsx#L369\n        // Will fixed after https://github.com/gravity-ui/uikit/issues/385\n        setTimeout(() => {\n          var _a;\n          (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.activateItem(activeItemIndex, true);\n        }, 50);\n      }\n    }\n    handleSelection(option);\n  }, [handleSelection, multiple]);\n  const handleControlKeyDown = React.useCallback(e => {\n    var _a;\n    // prevent dialog closing in case of item selection by Enter/Spacebar keydown\n    if ([KeyCode.ENTER, KeyCode.SPACEBAR].includes(e.key) && open) {\n      e.preventDefault();\n      if (e.key === KeyCode.SPACEBAR) {\n        handleOptionClick(getActiveItem(listRef));\n      }\n    }\n    (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.onKeyDown(e);\n  }, [handleOptionClick, open]);\n  const handleFilterKeyDown = React.useCallback(e => {\n    var _a;\n    (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.onKeyDown(e);\n  }, []);\n  const handleFilterChange = React.useCallback(nextFilter => {\n    onFilterChange === null || onFilterChange === void 0 ? void 0 : onFilterChange(nextFilter);\n    dispatch({\n      type: 'SET_FILTER',\n      payload: {\n        filter: nextFilter\n      }\n    });\n  }, [onFilterChange]);\n  const handleQuickSearchChange = React.useCallback(search => {\n    var _a;\n    if (search) {\n      const itemIndex = findItemIndexByQuickSearch(search, getListItems(listRef));\n      if (typeof itemIndex === 'number' && itemIndex !== -1) {\n        (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.activateItem(itemIndex, true);\n      }\n    }\n  }, []);\n  useQuickSearch({\n    onChange: handleQuickSearchChange,\n    open,\n    disabled: filterable\n  });\n  React.useEffect(() => {\n    var _a;\n    if (open) {\n      activateFirstClickableItem(listRef);\n      if (filterable) {\n        (_a = filterRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    } else {\n      dispatch({\n        type: 'SET_FILTER',\n        payload: {\n          filter: ''\n        }\n      });\n    }\n  }, [open, filterable]);\n  const mods = Object.assign({}, width === 'max' && {\n    width\n  });\n  const inlineStyles = {};\n  if (typeof width === 'number') {\n    inlineStyles.width = width;\n  }\n  const handleClose = React.useCallback(() => toggleOpen(false), [toggleOpen]);\n  const {\n    onFocus,\n    onBlur\n  } = props;\n  const {\n    focusWithinProps\n  } = useFocusWithin({\n    onFocusWithin: onFocus,\n    onBlurWithin: React.useCallback(e => {\n      onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n      handleClose();\n    }, [handleClose, onBlur])\n  });\n  return React.createElement(\"div\", Object.assign({\n    ref: controlWrapRef,\n    className: selectBlock(mods, className)\n  }, focusWithinProps, {\n    style: inlineStyles\n  }), React.createElement(SelectControl, {\n    toggleOpen: toggleOpen,\n    hasClear: hasClear,\n    clearValue: handleClearValue,\n    ref: handleControlRef,\n    className: controlClassName,\n    qa: qa,\n    name: name,\n    view: view,\n    size: size,\n    pin: pin,\n    label: label,\n    placeholder: placeholder,\n    selectedOptionsContent: selectedOptionsContent,\n    error: error,\n    open: open,\n    disabled: disabled,\n    onKeyDown: handleControlKeyDown,\n    renderControl: renderControl,\n    value: value,\n    popupId: `select-popup-${selectId}`,\n    selectId: `select-${selectId}`,\n    activeIndex: activeIndex\n  }), React.createElement(SelectPopup, {\n    ref: controlWrapRef,\n    className: popupClassName,\n    controlRef: controlRef,\n    width: popupWidth,\n    open: open,\n    handleClose: handleClose,\n    disablePortal: disablePortal,\n    virtualized: virtualized,\n    mobile: mobile,\n    id: `select-popup-${selectId}`\n  }, filterable && React.createElement(SelectFilter, {\n    ref: filterRef,\n    size: size,\n    value: filter,\n    placeholder: filterPlaceholder,\n    onChange: handleFilterChange,\n    onKeyDown: handleFilterKeyDown,\n    renderFilter: renderFilter\n  }), filteredFlattenOptions.length || props.loading ? React.createElement(SelectList, {\n    ref: listRef,\n    size: size,\n    value: value,\n    mobile: mobile,\n    flattenOptions: filteredFlattenOptions,\n    multiple: multiple,\n    virtualized: virtualized,\n    onOptionClick: handleOptionClick,\n    renderOption: renderOption,\n    renderOptionGroup: renderOptionGroup,\n    getOptionHeight: getOptionHeight,\n    getOptionGroupHeight: getOptionGroupHeight,\n    loading: props.loading,\n    onLoadMore: props.onLoadMore,\n    selectId: `select-${selectId}`,\n    onChangeActive: setActiveIndex\n  }) : React.createElement(EmptyOptions, {\n    filter: filter,\n    renderEmptyOptions: renderEmptyOptions\n  })));\n});\nSelect.Option = Option;\nSelect.OptionGroup = OptionGroup;","map":{"version":3,"names":["React","KeyCode","useFocusWithin","useForkRef","useSelect","useUniqId","useMobile","EmptyOptions","SelectControl","SelectFilter","SelectList","SelectPopup","DEFAULT_VIRTUALIZATION_THRESHOLD","selectBlock","useQuickSearch","initialState","reducer","Option","OptionGroup","activateFirstClickableItem","findItemIndexByQuickSearch","getActiveItem","getFilteredFlattenOptions","getFlattenOptions","getListItems","getOptionsFromChildren","getSelectedOptionsContent","Select","forwardRef","props","ref","onUpdate","onOpenChange","onFilterChange","renderControl","renderFilter","renderOption","renderOptionGroup","renderSelectedOption","renderEmptyOptions","getOptionHeight","getOptionGroupHeight","filterOption","name","className","controlClassName","popupClassName","qa","value","propsValue","defaultValue","defaultOpen","open","propsOpen","label","placeholder","filterPlaceholder","width","popupWidth","error","virtualizationThreshold","view","size","pin","multiple","disabled","filterable","disablePortal","hasClear","onClose","id","mobile","filter","dispatch","useReducer","controlWrapRef","useRef","controlRef","filterRef","listRef","handleControlRef","activeIndex","toggleOpen","handleSelection","handleClearValue","setActiveIndex","uniqId","selectId","options","children","flattenOptions","filteredFlattenOptions","selectedOptionsContent","virtualized","length","handleOptionClick","useCallback","option","_a","_b","activeItemIndex","current","focus","setTimeout","activateItem","handleControlKeyDown","e","ENTER","SPACEBAR","includes","key","preventDefault","onKeyDown","handleFilterKeyDown","handleFilterChange","nextFilter","type","payload","handleQuickSearchChange","search","itemIndex","onChange","useEffect","mods","Object","assign","inlineStyles","handleClose","onFocus","onBlur","focusWithinProps","onFocusWithin","onBlurWithin","createElement","style","clearValue","popupId","loading","onOptionClick","onLoadMore","onChangeActive"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Select/Select.js"],"sourcesContent":["import React from 'react';\nimport { KeyCode } from '../../constants';\nimport { useFocusWithin, useForkRef, useSelect, useUniqId } from '../../hooks';\nimport { useMobile } from '../mobile';\nimport { EmptyOptions, SelectControl, SelectFilter, SelectList, SelectPopup } from './components';\nimport { DEFAULT_VIRTUALIZATION_THRESHOLD, selectBlock } from './constants';\nimport { useQuickSearch } from './hooks';\nimport { initialState, reducer } from './store';\nimport { Option, OptionGroup } from './tech-components';\nimport { activateFirstClickableItem, findItemIndexByQuickSearch, getActiveItem, getFilteredFlattenOptions, getFlattenOptions, getListItems, getOptionsFromChildren, getSelectedOptionsContent, } from './utils';\nimport './Select.css';\nexport const Select = React.forwardRef(function Select(props, ref) {\n    const { onUpdate, onOpenChange, onFilterChange, renderControl, renderFilter, renderOption, renderOptionGroup, renderSelectedOption, renderEmptyOptions, getOptionHeight, getOptionGroupHeight, filterOption, name, className, controlClassName, popupClassName, qa, value: propsValue, defaultValue, defaultOpen, open: propsOpen, label, placeholder, filterPlaceholder, width, popupWidth, error, virtualizationThreshold = DEFAULT_VIRTUALIZATION_THRESHOLD, view = 'normal', size = 'm', pin = 'round-round', multiple = false, disabled = false, filterable = false, disablePortal, hasClear = false, onClose, id, } = props;\n    const [mobile] = useMobile();\n    const [{ filter }, dispatch] = React.useReducer(reducer, initialState);\n    // to avoid problem with incorrect popper offset calculation\n    // for example: https://github.com/radix-ui/primitives/issues/1567\n    const controlWrapRef = React.useRef(null);\n    const controlRef = React.useRef(null);\n    const filterRef = React.useRef(null);\n    const listRef = React.useRef(null);\n    const handleControlRef = useForkRef(ref, controlRef);\n    const { value, open, activeIndex, toggleOpen, handleSelection, handleClearValue, setActiveIndex, } = useSelect({\n        onUpdate,\n        value: propsValue,\n        defaultValue,\n        defaultOpen,\n        multiple,\n        open: propsOpen,\n        onClose,\n        onOpenChange,\n    });\n    const uniqId = useUniqId();\n    const selectId = id !== null && id !== void 0 ? id : uniqId;\n    const options = props.options || getOptionsFromChildren(props.children);\n    const flattenOptions = getFlattenOptions(options);\n    const filteredFlattenOptions = filterable\n        ? getFilteredFlattenOptions({\n            options: flattenOptions,\n            filter,\n            filterOption,\n        })\n        : flattenOptions;\n    const selectedOptionsContent = getSelectedOptionsContent(flattenOptions, value, renderSelectedOption);\n    const virtualized = filteredFlattenOptions.length >= virtualizationThreshold;\n    const handleOptionClick = React.useCallback((option) => {\n        var _a, _b;\n        if (!option || (option === null || option === void 0 ? void 0 : option.disabled) || 'label' in option) {\n            return;\n        }\n        if (multiple) {\n            const activeItemIndex = (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.getActiveItem();\n            (_b = filterRef.current) === null || _b === void 0 ? void 0 : _b.focus();\n            if (typeof activeItemIndex === 'number') {\n                // prevent item deactivation in case of multiple selection\n                // https://github.com/gravity-ui/uikit/blob/main/src/components/List/List.tsx#L369\n                // Will fixed after https://github.com/gravity-ui/uikit/issues/385\n                setTimeout(() => {\n                    var _a;\n                    (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.activateItem(activeItemIndex, true);\n                }, 50);\n            }\n        }\n        handleSelection(option);\n    }, [handleSelection, multiple]);\n    const handleControlKeyDown = React.useCallback((e) => {\n        var _a;\n        // prevent dialog closing in case of item selection by Enter/Spacebar keydown\n        if ([KeyCode.ENTER, KeyCode.SPACEBAR].includes(e.key) && open) {\n            e.preventDefault();\n            if (e.key === KeyCode.SPACEBAR) {\n                handleOptionClick(getActiveItem(listRef));\n            }\n        }\n        (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.onKeyDown(e);\n    }, [handleOptionClick, open]);\n    const handleFilterKeyDown = React.useCallback((e) => {\n        var _a;\n        (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.onKeyDown(e);\n    }, []);\n    const handleFilterChange = React.useCallback((nextFilter) => {\n        onFilterChange === null || onFilterChange === void 0 ? void 0 : onFilterChange(nextFilter);\n        dispatch({ type: 'SET_FILTER', payload: { filter: nextFilter } });\n    }, [onFilterChange]);\n    const handleQuickSearchChange = React.useCallback((search) => {\n        var _a;\n        if (search) {\n            const itemIndex = findItemIndexByQuickSearch(search, getListItems(listRef));\n            if (typeof itemIndex === 'number' && itemIndex !== -1) {\n                (_a = listRef === null || listRef === void 0 ? void 0 : listRef.current) === null || _a === void 0 ? void 0 : _a.activateItem(itemIndex, true);\n            }\n        }\n    }, []);\n    useQuickSearch({\n        onChange: handleQuickSearchChange,\n        open,\n        disabled: filterable,\n    });\n    React.useEffect(() => {\n        var _a;\n        if (open) {\n            activateFirstClickableItem(listRef);\n            if (filterable) {\n                (_a = filterRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n        }\n        else {\n            dispatch({ type: 'SET_FILTER', payload: { filter: '' } });\n        }\n    }, [open, filterable]);\n    const mods = Object.assign({}, (width === 'max' && { width }));\n    const inlineStyles = {};\n    if (typeof width === 'number') {\n        inlineStyles.width = width;\n    }\n    const handleClose = React.useCallback(() => toggleOpen(false), [toggleOpen]);\n    const { onFocus, onBlur } = props;\n    const { focusWithinProps } = useFocusWithin({\n        onFocusWithin: onFocus,\n        onBlurWithin: React.useCallback((e) => {\n            onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n            handleClose();\n        }, [handleClose, onBlur]),\n    });\n    return (React.createElement(\"div\", Object.assign({ ref: controlWrapRef, className: selectBlock(mods, className) }, focusWithinProps, { style: inlineStyles }),\n        React.createElement(SelectControl, { toggleOpen: toggleOpen, hasClear: hasClear, clearValue: handleClearValue, ref: handleControlRef, className: controlClassName, qa: qa, name: name, view: view, size: size, pin: pin, label: label, placeholder: placeholder, selectedOptionsContent: selectedOptionsContent, error: error, open: open, disabled: disabled, onKeyDown: handleControlKeyDown, renderControl: renderControl, value: value, popupId: `select-popup-${selectId}`, selectId: `select-${selectId}`, activeIndex: activeIndex }),\n        React.createElement(SelectPopup, { ref: controlWrapRef, className: popupClassName, controlRef: controlRef, width: popupWidth, open: open, handleClose: handleClose, disablePortal: disablePortal, virtualized: virtualized, mobile: mobile, id: `select-popup-${selectId}` },\n            filterable && (React.createElement(SelectFilter, { ref: filterRef, size: size, value: filter, placeholder: filterPlaceholder, onChange: handleFilterChange, onKeyDown: handleFilterKeyDown, renderFilter: renderFilter })),\n            filteredFlattenOptions.length || props.loading ? (React.createElement(SelectList, { ref: listRef, size: size, value: value, mobile: mobile, flattenOptions: filteredFlattenOptions, multiple: multiple, virtualized: virtualized, onOptionClick: handleOptionClick, renderOption: renderOption, renderOptionGroup: renderOptionGroup, getOptionHeight: getOptionHeight, getOptionGroupHeight: getOptionGroupHeight, loading: props.loading, onLoadMore: props.onLoadMore, selectId: `select-${selectId}`, onChangeActive: setActiveIndex })) : (React.createElement(EmptyOptions, { filter: filter, renderEmptyOptions: renderEmptyOptions })))));\n});\nSelect.Option = Option;\nSelect.OptionGroup = OptionGroup;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,cAAc,EAAEC,UAAU,EAAEC,SAAS,EAAEC,SAAS,QAAQ,aAAa;AAC9E,SAASC,SAAS,QAAQ,WAAW;AACrC,SAASC,YAAY,EAAEC,aAAa,EAAEC,YAAY,EAAEC,UAAU,EAAEC,WAAW,QAAQ,cAAc;AACjG,SAASC,gCAAgC,EAAEC,WAAW,QAAQ,aAAa;AAC3E,SAASC,cAAc,QAAQ,SAAS;AACxC,SAASC,YAAY,EAAEC,OAAO,QAAQ,SAAS;AAC/C,SAASC,MAAM,EAAEC,WAAW,QAAQ,mBAAmB;AACvD,SAASC,0BAA0B,EAAEC,0BAA0B,EAAEC,aAAa,EAAEC,yBAAyB,EAAEC,iBAAiB,EAAEC,YAAY,EAAEC,sBAAsB,EAAEC,yBAAyB,QAAS,SAAS;AAC/M,OAAO,cAAc;AACrB,OAAO,MAAMC,MAAM,GAAG3B,KAAK,CAAC4B,UAAU,CAAC,SAASD,MAAMA,CAACE,KAAK,EAAEC,GAAG,EAAE;EAC/D,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,cAAc;IAAEC,aAAa;IAAEC,YAAY;IAAEC,YAAY;IAAEC,iBAAiB;IAAEC,oBAAoB;IAAEC,kBAAkB;IAAEC,eAAe;IAAEC,oBAAoB;IAAEC,YAAY;IAAEC,IAAI;IAAEC,SAAS;IAAEC,gBAAgB;IAAEC,cAAc;IAAEC,EAAE;IAAEC,KAAK,EAAEC,UAAU;IAAEC,YAAY;IAAEC,WAAW;IAAEC,IAAI,EAAEC,SAAS;IAAEC,KAAK;IAAEC,WAAW;IAAEC,iBAAiB;IAAEC,KAAK;IAAEC,UAAU;IAAEC,KAAK;IAAEC,uBAAuB,GAAGhD,gCAAgC;IAAEiD,IAAI,GAAG,QAAQ;IAAEC,IAAI,GAAG,GAAG;IAAEC,GAAG,GAAG,aAAa;IAAEC,QAAQ,GAAG,KAAK;IAAEC,QAAQ,GAAG,KAAK;IAAEC,UAAU,GAAG,KAAK;IAAEC,aAAa;IAAEC,QAAQ,GAAG,KAAK;IAAEC,OAAO;IAAEC;EAAI,CAAC,GAAGzC,KAAK;EACjmB,MAAM,CAAC0C,MAAM,CAAC,GAAGjE,SAAS,CAAC,CAAC;EAC5B,MAAM,CAAC;IAAEkE;EAAO,CAAC,EAAEC,QAAQ,CAAC,GAAGzE,KAAK,CAAC0E,UAAU,CAAC1D,OAAO,EAAED,YAAY,CAAC;EACtE;EACA;EACA,MAAM4D,cAAc,GAAG3E,KAAK,CAAC4E,MAAM,CAAC,IAAI,CAAC;EACzC,MAAMC,UAAU,GAAG7E,KAAK,CAAC4E,MAAM,CAAC,IAAI,CAAC;EACrC,MAAME,SAAS,GAAG9E,KAAK,CAAC4E,MAAM,CAAC,IAAI,CAAC;EACpC,MAAMG,OAAO,GAAG/E,KAAK,CAAC4E,MAAM,CAAC,IAAI,CAAC;EAClC,MAAMI,gBAAgB,GAAG7E,UAAU,CAAC2B,GAAG,EAAE+C,UAAU,CAAC;EACpD,MAAM;IAAE7B,KAAK;IAAEI,IAAI;IAAE6B,WAAW;IAAEC,UAAU;IAAEC,eAAe;IAAEC,gBAAgB;IAAEC;EAAgB,CAAC,GAAGjF,SAAS,CAAC;IAC3G2B,QAAQ;IACRiB,KAAK,EAAEC,UAAU;IACjBC,YAAY;IACZC,WAAW;IACXa,QAAQ;IACRZ,IAAI,EAAEC,SAAS;IACfgB,OAAO;IACPrC;EACJ,CAAC,CAAC;EACF,MAAMsD,MAAM,GAAGjF,SAAS,CAAC,CAAC;EAC1B,MAAMkF,QAAQ,GAAGjB,EAAE,KAAK,IAAI,IAAIA,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGgB,MAAM;EAC3D,MAAME,OAAO,GAAG3D,KAAK,CAAC2D,OAAO,IAAI/D,sBAAsB,CAACI,KAAK,CAAC4D,QAAQ,CAAC;EACvE,MAAMC,cAAc,GAAGnE,iBAAiB,CAACiE,OAAO,CAAC;EACjD,MAAMG,sBAAsB,GAAGzB,UAAU,GACnC5C,yBAAyB,CAAC;IACxBkE,OAAO,EAAEE,cAAc;IACvBlB,MAAM;IACN9B;EACJ,CAAC,CAAC,GACAgD,cAAc;EACpB,MAAME,sBAAsB,GAAGlE,yBAAyB,CAACgE,cAAc,EAAE1C,KAAK,EAAEV,oBAAoB,CAAC;EACrG,MAAMuD,WAAW,GAAGF,sBAAsB,CAACG,MAAM,IAAIlC,uBAAuB;EAC5E,MAAMmC,iBAAiB,GAAG/F,KAAK,CAACgG,WAAW,CAAEC,MAAM,IAAK;IACpD,IAAIC,EAAE,EAAEC,EAAE;IACV,IAAI,CAACF,MAAM,KAAKA,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAChC,QAAQ,CAAC,IAAI,OAAO,IAAIgC,MAAM,EAAE;MACnG;IACJ;IACA,IAAIjC,QAAQ,EAAE;MACV,MAAMoC,eAAe,GAAG,CAACF,EAAE,GAAGnB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACsB,OAAO,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7E,aAAa,CAAC,CAAC;MACxJ,CAAC8E,EAAE,GAAGrB,SAAS,CAACuB,OAAO,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACG,KAAK,CAAC,CAAC;MACxE,IAAI,OAAOF,eAAe,KAAK,QAAQ,EAAE;QACrC;QACA;QACA;QACAG,UAAU,CAAC,MAAM;UACb,IAAIL,EAAE;UACN,CAACA,EAAE,GAAGnB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACsB,OAAO,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,YAAY,CAACJ,eAAe,EAAE,IAAI,CAAC;QACxJ,CAAC,EAAE,EAAE,CAAC;MACV;IACJ;IACAjB,eAAe,CAACc,MAAM,CAAC;EAC3B,CAAC,EAAE,CAACd,eAAe,EAAEnB,QAAQ,CAAC,CAAC;EAC/B,MAAMyC,oBAAoB,GAAGzG,KAAK,CAACgG,WAAW,CAAEU,CAAC,IAAK;IAClD,IAAIR,EAAE;IACN;IACA,IAAI,CAACjG,OAAO,CAAC0G,KAAK,EAAE1G,OAAO,CAAC2G,QAAQ,CAAC,CAACC,QAAQ,CAACH,CAAC,CAACI,GAAG,CAAC,IAAI1D,IAAI,EAAE;MAC3DsD,CAAC,CAACK,cAAc,CAAC,CAAC;MAClB,IAAIL,CAAC,CAACI,GAAG,KAAK7G,OAAO,CAAC2G,QAAQ,EAAE;QAC5Bb,iBAAiB,CAAC1E,aAAa,CAAC0D,OAAO,CAAC,CAAC;MAC7C;IACJ;IACA,CAACmB,EAAE,GAAGnB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACsB,OAAO,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACc,SAAS,CAACN,CAAC,CAAC;EACjI,CAAC,EAAE,CAACX,iBAAiB,EAAE3C,IAAI,CAAC,CAAC;EAC7B,MAAM6D,mBAAmB,GAAGjH,KAAK,CAACgG,WAAW,CAAEU,CAAC,IAAK;IACjD,IAAIR,EAAE;IACN,CAACA,EAAE,GAAGnB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACsB,OAAO,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACc,SAAS,CAACN,CAAC,CAAC;EACjI,CAAC,EAAE,EAAE,CAAC;EACN,MAAMQ,kBAAkB,GAAGlH,KAAK,CAACgG,WAAW,CAAEmB,UAAU,IAAK;IACzDlF,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAACkF,UAAU,CAAC;IAC1F1C,QAAQ,CAAC;MAAE2C,IAAI,EAAE,YAAY;MAAEC,OAAO,EAAE;QAAE7C,MAAM,EAAE2C;MAAW;IAAE,CAAC,CAAC;EACrE,CAAC,EAAE,CAAClF,cAAc,CAAC,CAAC;EACpB,MAAMqF,uBAAuB,GAAGtH,KAAK,CAACgG,WAAW,CAAEuB,MAAM,IAAK;IAC1D,IAAIrB,EAAE;IACN,IAAIqB,MAAM,EAAE;MACR,MAAMC,SAAS,GAAGpG,0BAA0B,CAACmG,MAAM,EAAE/F,YAAY,CAACuD,OAAO,CAAC,CAAC;MAC3E,IAAI,OAAOyC,SAAS,KAAK,QAAQ,IAAIA,SAAS,KAAK,CAAC,CAAC,EAAE;QACnD,CAACtB,EAAE,GAAGnB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACsB,OAAO,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,YAAY,CAACgB,SAAS,EAAE,IAAI,CAAC;MAClJ;IACJ;EACJ,CAAC,EAAE,EAAE,CAAC;EACN1G,cAAc,CAAC;IACX2G,QAAQ,EAAEH,uBAAuB;IACjClE,IAAI;IACJa,QAAQ,EAAEC;EACd,CAAC,CAAC;EACFlE,KAAK,CAAC0H,SAAS,CAAC,MAAM;IAClB,IAAIxB,EAAE;IACN,IAAI9C,IAAI,EAAE;MACNjC,0BAA0B,CAAC4D,OAAO,CAAC;MACnC,IAAIb,UAAU,EAAE;QACZ,CAACgC,EAAE,GAAGpB,SAAS,CAACuB,OAAO,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,KAAK,CAAC,CAAC;MAC5E;IACJ,CAAC,MACI;MACD7B,QAAQ,CAAC;QAAE2C,IAAI,EAAE,YAAY;QAAEC,OAAO,EAAE;UAAE7C,MAAM,EAAE;QAAG;MAAE,CAAC,CAAC;IAC7D;EACJ,CAAC,EAAE,CAACpB,IAAI,EAAEc,UAAU,CAAC,CAAC;EACtB,MAAMyD,IAAI,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAGpE,KAAK,KAAK,KAAK,IAAI;IAAEA;EAAM,CAAE,CAAC;EAC9D,MAAMqE,YAAY,GAAG,CAAC,CAAC;EACvB,IAAI,OAAOrE,KAAK,KAAK,QAAQ,EAAE;IAC3BqE,YAAY,CAACrE,KAAK,GAAGA,KAAK;EAC9B;EACA,MAAMsE,WAAW,GAAG/H,KAAK,CAACgG,WAAW,CAAC,MAAMd,UAAU,CAAC,KAAK,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAC5E,MAAM;IAAE8C,OAAO;IAAEC;EAAO,CAAC,GAAGpG,KAAK;EACjC,MAAM;IAAEqG;EAAiB,CAAC,GAAGhI,cAAc,CAAC;IACxCiI,aAAa,EAAEH,OAAO;IACtBI,YAAY,EAAEpI,KAAK,CAACgG,WAAW,CAAEU,CAAC,IAAK;MACnCuB,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACvB,CAAC,CAAC;MACzDqB,WAAW,CAAC,CAAC;IACjB,CAAC,EAAE,CAACA,WAAW,EAAEE,MAAM,CAAC;EAC5B,CAAC,CAAC;EACF,OAAQjI,KAAK,CAACqI,aAAa,CAAC,KAAK,EAAET,MAAM,CAACC,MAAM,CAAC;IAAE/F,GAAG,EAAE6C,cAAc;IAAE/B,SAAS,EAAE/B,WAAW,CAAC8G,IAAI,EAAE/E,SAAS;EAAE,CAAC,EAAEsF,gBAAgB,EAAE;IAAEI,KAAK,EAAER;EAAa,CAAC,CAAC,EACzJ9H,KAAK,CAACqI,aAAa,CAAC7H,aAAa,EAAE;IAAE0E,UAAU,EAAEA,UAAU;IAAEd,QAAQ,EAAEA,QAAQ;IAAEmE,UAAU,EAAEnD,gBAAgB;IAAEtD,GAAG,EAAEkD,gBAAgB;IAAEpC,SAAS,EAAEC,gBAAgB;IAAEE,EAAE,EAAEA,EAAE;IAAEJ,IAAI,EAAEA,IAAI;IAAEkB,IAAI,EAAEA,IAAI;IAAEC,IAAI,EAAEA,IAAI;IAAEC,GAAG,EAAEA,GAAG;IAAET,KAAK,EAAEA,KAAK;IAAEC,WAAW,EAAEA,WAAW;IAAEqC,sBAAsB,EAAEA,sBAAsB;IAAEjC,KAAK,EAAEA,KAAK;IAAEP,IAAI,EAAEA,IAAI;IAAEa,QAAQ,EAAEA,QAAQ;IAAE+C,SAAS,EAAEP,oBAAoB;IAAEvE,aAAa,EAAEA,aAAa;IAAEc,KAAK,EAAEA,KAAK;IAAEwF,OAAO,EAAG,gBAAejD,QAAS,EAAC;IAAEA,QAAQ,EAAG,UAASA,QAAS,EAAC;IAAEN,WAAW,EAAEA;EAAY,CAAC,CAAC,EAC5gBjF,KAAK,CAACqI,aAAa,CAAC1H,WAAW,EAAE;IAAEmB,GAAG,EAAE6C,cAAc;IAAE/B,SAAS,EAAEE,cAAc;IAAE+B,UAAU,EAAEA,UAAU;IAAEpB,KAAK,EAAEC,UAAU;IAAEN,IAAI,EAAEA,IAAI;IAAE2E,WAAW,EAAEA,WAAW;IAAE5D,aAAa,EAAEA,aAAa;IAAE0B,WAAW,EAAEA,WAAW;IAAEtB,MAAM,EAAEA,MAAM;IAAED,EAAE,EAAG,gBAAeiB,QAAS;EAAE,CAAC,EACxQrB,UAAU,IAAKlE,KAAK,CAACqI,aAAa,CAAC5H,YAAY,EAAE;IAAEqB,GAAG,EAAEgD,SAAS;IAAEhB,IAAI,EAAEA,IAAI;IAAEd,KAAK,EAAEwB,MAAM;IAAEjB,WAAW,EAAEC,iBAAiB;IAAEiE,QAAQ,EAAEP,kBAAkB;IAAEF,SAAS,EAAEC,mBAAmB;IAAE9E,YAAY,EAAEA;EAAa,CAAC,CAAE,EAC1NwD,sBAAsB,CAACG,MAAM,IAAIjE,KAAK,CAAC4G,OAAO,GAAIzI,KAAK,CAACqI,aAAa,CAAC3H,UAAU,EAAE;IAAEoB,GAAG,EAAEiD,OAAO;IAAEjB,IAAI,EAAEA,IAAI;IAAEd,KAAK,EAAEA,KAAK;IAAEuB,MAAM,EAAEA,MAAM;IAAEmB,cAAc,EAAEC,sBAAsB;IAAE3B,QAAQ,EAAEA,QAAQ;IAAE6B,WAAW,EAAEA,WAAW;IAAE6C,aAAa,EAAE3C,iBAAiB;IAAE3D,YAAY,EAAEA,YAAY;IAAEC,iBAAiB,EAAEA,iBAAiB;IAAEG,eAAe,EAAEA,eAAe;IAAEC,oBAAoB,EAAEA,oBAAoB;IAAEgG,OAAO,EAAE5G,KAAK,CAAC4G,OAAO;IAAEE,UAAU,EAAE9G,KAAK,CAAC8G,UAAU;IAAEpD,QAAQ,EAAG,UAASA,QAAS,EAAC;IAAEqD,cAAc,EAAEvD;EAAe,CAAC,CAAC,GAAKrF,KAAK,CAACqI,aAAa,CAAC9H,YAAY,EAAE;IAAEiE,MAAM,EAAEA,MAAM;IAAEjC,kBAAkB,EAAEA;EAAmB,CAAC,CAAE,CAAC,CAAC;AAC5nB,CAAC,CAAC;AACFZ,MAAM,CAACV,MAAM,GAAGA,MAAM;AACtBU,MAAM,CAACT,WAAW,GAAGA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}