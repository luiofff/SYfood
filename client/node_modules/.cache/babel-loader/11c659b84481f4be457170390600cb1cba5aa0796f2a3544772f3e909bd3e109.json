{"ast":null,"code":"import { __rest } from \"tslib\";\nimport React from 'react';\nimport { useOpenState } from './useOpenState';\nexport const useSelect = props => {\n  const {\n    value: valueProps,\n    defaultValue = [],\n    multiple,\n    onUpdate\n  } = props;\n  const [innerValue, setInnerValue] = React.useState(defaultValue);\n  const [activeIndex, setActiveIndex] = React.useState();\n  const value = valueProps || innerValue;\n  const uncontrolled = !valueProps;\n  const _a = useOpenState(props),\n    {\n      toggleOpen\n    } = _a,\n    openState = __rest(_a, [\"toggleOpen\"]);\n  const handleSingleSelection = React.useCallback(option => {\n    if (!value.includes(option.value)) {\n      const nextValue = [option.value];\n      onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(nextValue);\n      if (uncontrolled) {\n        setInnerValue(nextValue);\n      }\n    }\n    toggleOpen(false);\n  }, [value, uncontrolled, onUpdate, toggleOpen]);\n  const handleMultipleSelection = React.useCallback(option => {\n    const alreadySelected = value.includes(option.value);\n    const nextValue = alreadySelected ? value.filter(iteratedVal => iteratedVal !== option.value) : [...value, option.value];\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(nextValue);\n    if (uncontrolled) {\n      setInnerValue(nextValue);\n    }\n  }, [value, uncontrolled, onUpdate]);\n  const handleSelection = React.useCallback(option => {\n    if (multiple) {\n      handleMultipleSelection(option);\n    } else {\n      handleSingleSelection(option);\n    }\n  }, [multiple, handleSingleSelection, handleMultipleSelection]);\n  const handleClearValue = React.useCallback(() => {\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate([]);\n    setInnerValue([]);\n  }, [onUpdate]);\n  return Object.assign({\n    value,\n    activeIndex,\n    handleSelection,\n    handleClearValue,\n    /**\n     * @deprecated use toggleOpen\n     */\n    setOpen: toggleOpen,\n    toggleOpen,\n    setActiveIndex\n  }, openState);\n};","map":{"version":3,"names":["__rest","React","useOpenState","useSelect","props","value","valueProps","defaultValue","multiple","onUpdate","innerValue","setInnerValue","useState","activeIndex","setActiveIndex","uncontrolled","_a","toggleOpen","openState","handleSingleSelection","useCallback","option","includes","nextValue","handleMultipleSelection","alreadySelected","filter","iteratedVal","handleSelection","handleClearValue","Object","assign","setOpen"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/hooks/useSelect/useSelect.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport React from 'react';\nimport { useOpenState } from './useOpenState';\nexport const useSelect = (props) => {\n    const { value: valueProps, defaultValue = [], multiple, onUpdate } = props;\n    const [innerValue, setInnerValue] = React.useState(defaultValue);\n    const [activeIndex, setActiveIndex] = React.useState();\n    const value = valueProps || innerValue;\n    const uncontrolled = !valueProps;\n    const _a = useOpenState(props), { toggleOpen } = _a, openState = __rest(_a, [\"toggleOpen\"]);\n    const handleSingleSelection = React.useCallback((option) => {\n        if (!value.includes(option.value)) {\n            const nextValue = [option.value];\n            onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(nextValue);\n            if (uncontrolled) {\n                setInnerValue(nextValue);\n            }\n        }\n        toggleOpen(false);\n    }, [value, uncontrolled, onUpdate, toggleOpen]);\n    const handleMultipleSelection = React.useCallback((option) => {\n        const alreadySelected = value.includes(option.value);\n        const nextValue = alreadySelected\n            ? value.filter((iteratedVal) => iteratedVal !== option.value)\n            : [...value, option.value];\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(nextValue);\n        if (uncontrolled) {\n            setInnerValue(nextValue);\n        }\n    }, [value, uncontrolled, onUpdate]);\n    const handleSelection = React.useCallback((option) => {\n        if (multiple) {\n            handleMultipleSelection(option);\n        }\n        else {\n            handleSingleSelection(option);\n        }\n    }, [multiple, handleSingleSelection, handleMultipleSelection]);\n    const handleClearValue = React.useCallback(() => {\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate([]);\n        setInnerValue([]);\n    }, [onUpdate]);\n    return Object.assign({ value,\n        activeIndex,\n        handleSelection,\n        handleClearValue, \n        /**\n         * @deprecated use toggleOpen\n         */\n        setOpen: toggleOpen, toggleOpen,\n        setActiveIndex }, openState);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}