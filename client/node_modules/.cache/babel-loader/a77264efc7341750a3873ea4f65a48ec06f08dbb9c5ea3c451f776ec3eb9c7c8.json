{"ast":null,"code":"import React from 'react';\nimport { isOfType } from '../utils/isOfType';\nimport { DisclosureProvider } from './DisclosureContext';\nimport { DisclosureDetails } from './DisclosureDetails/DisclosureDetails';\nimport { DefaultDisclosureSummary, DisclosureSummary } from './DisclosureSummary/DisclosureSummary';\nimport { b } from './cn';\nimport './Disclosure.css';\nconst isDisclosureSummaryComponent = isOfType(DisclosureSummary);\n// @ts-ignore this ts-error is appears when forwarding ref. It complains that DisclosureComposition props is not provided initially\nexport const Disclosure = React.forwardRef(function Disclosure(props, ref) {\n  const {\n    size = 'm',\n    disabled = false,\n    defaultExpanded = false,\n    arrowPosition = 'left',\n    summary = '',\n    className,\n    keepMounted = true,\n    children,\n    onUpdate = () => {},\n    expanded,\n    qa\n  } = props;\n  const [summaryContent, detailsContent] = prepareChildren(children);\n  return React.createElement(DisclosureProvider, {\n    disabled: disabled,\n    defaultExpanded: defaultExpanded,\n    expanded: expanded,\n    keepMounted: keepMounted,\n    size: size,\n    summary: summary,\n    arrowPosition: arrowPosition,\n    onUpdate: onUpdate\n  }, React.createElement(\"section\", {\n    ref: ref,\n    className: b({\n      size\n    }, className),\n    \"data-qa\": qa\n  }, summaryContent, detailsContent));\n});\nfunction prepareChildren(children) {\n  const items = React.Children.toArray(children);\n  let summary, details;\n  const content = [];\n  for (const item of items) {\n    const isDisclosureSummary = isDisclosureSummaryComponent(item);\n    if (isDisclosureSummary) {\n      if (summary) {\n        throw new Error('Only one <Disclosure.Summary> component is allowed');\n      }\n      summary = item;\n      continue;\n    }\n    content.push(item);\n  }\n  if (content.length > 0) {\n    details = React.createElement(DisclosureDetails, null, content);\n  }\n  if (!summary) {\n    summary = React.createElement(DisclosureSummary, null, props => React.createElement(DefaultDisclosureSummary, Object.assign({}, props)));\n  }\n  return [summary, details];\n}\nDisclosure.Summary = DisclosureSummary;\nDisclosure.displayName = 'Disclosure';","map":{"version":3,"names":["React","isOfType","DisclosureProvider","DisclosureDetails","DefaultDisclosureSummary","DisclosureSummary","b","isDisclosureSummaryComponent","Disclosure","forwardRef","props","ref","size","disabled","defaultExpanded","arrowPosition","summary","className","keepMounted","children","onUpdate","expanded","qa","summaryContent","detailsContent","prepareChildren","createElement","items","Children","toArray","details","content","item","isDisclosureSummary","Error","push","length","Object","assign","Summary","displayName"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/Disclosure/Disclosure.js"],"sourcesContent":["import React from 'react';\nimport { isOfType } from '../utils/isOfType';\nimport { DisclosureProvider } from './DisclosureContext';\nimport { DisclosureDetails } from './DisclosureDetails/DisclosureDetails';\nimport { DefaultDisclosureSummary, DisclosureSummary } from './DisclosureSummary/DisclosureSummary';\nimport { b } from './cn';\nimport './Disclosure.css';\nconst isDisclosureSummaryComponent = isOfType(DisclosureSummary);\n// @ts-ignore this ts-error is appears when forwarding ref. It complains that DisclosureComposition props is not provided initially\nexport const Disclosure = React.forwardRef(function Disclosure(props, ref) {\n    const { size = 'm', disabled = false, defaultExpanded = false, arrowPosition = 'left', summary = '', className, keepMounted = true, children, onUpdate = () => { }, expanded, qa, } = props;\n    const [summaryContent, detailsContent] = prepareChildren(children);\n    return (React.createElement(DisclosureProvider, { disabled: disabled, defaultExpanded: defaultExpanded, expanded: expanded, keepMounted: keepMounted, size: size, summary: summary, arrowPosition: arrowPosition, onUpdate: onUpdate },\n        React.createElement(\"section\", { ref: ref, className: b({ size }, className), \"data-qa\": qa },\n            summaryContent,\n            detailsContent)));\n});\nfunction prepareChildren(children) {\n    const items = React.Children.toArray(children);\n    let summary, details;\n    const content = [];\n    for (const item of items) {\n        const isDisclosureSummary = isDisclosureSummaryComponent(item);\n        if (isDisclosureSummary) {\n            if (summary) {\n                throw new Error('Only one <Disclosure.Summary> component is allowed');\n            }\n            summary = item;\n            continue;\n        }\n        content.push(item);\n    }\n    if (content.length > 0) {\n        details = React.createElement(DisclosureDetails, null, content);\n    }\n    if (!summary) {\n        summary = (React.createElement(DisclosureSummary, null, (props) => React.createElement(DefaultDisclosureSummary, Object.assign({}, props))));\n    }\n    return [summary, details];\n}\nDisclosure.Summary = DisclosureSummary;\nDisclosure.displayName = 'Disclosure';\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,kBAAkB,QAAQ,qBAAqB;AACxD,SAASC,iBAAiB,QAAQ,uCAAuC;AACzE,SAASC,wBAAwB,EAAEC,iBAAiB,QAAQ,uCAAuC;AACnG,SAASC,CAAC,QAAQ,MAAM;AACxB,OAAO,kBAAkB;AACzB,MAAMC,4BAA4B,GAAGN,QAAQ,CAACI,iBAAiB,CAAC;AAChE;AACA,OAAO,MAAMG,UAAU,GAAGR,KAAK,CAACS,UAAU,CAAC,SAASD,UAAUA,CAACE,KAAK,EAAEC,GAAG,EAAE;EACvE,MAAM;IAAEC,IAAI,GAAG,GAAG;IAAEC,QAAQ,GAAG,KAAK;IAAEC,eAAe,GAAG,KAAK;IAAEC,aAAa,GAAG,MAAM;IAAEC,OAAO,GAAG,EAAE;IAAEC,SAAS;IAAEC,WAAW,GAAG,IAAI;IAAEC,QAAQ;IAAEC,QAAQ,GAAGA,CAAA,KAAM,CAAE,CAAC;IAAEC,QAAQ;IAAEC;EAAI,CAAC,GAAGZ,KAAK;EAC3L,MAAM,CAACa,cAAc,EAAEC,cAAc,CAAC,GAAGC,eAAe,CAACN,QAAQ,CAAC;EAClE,OAAQnB,KAAK,CAAC0B,aAAa,CAACxB,kBAAkB,EAAE;IAAEW,QAAQ,EAAEA,QAAQ;IAAEC,eAAe,EAAEA,eAAe;IAAEO,QAAQ,EAAEA,QAAQ;IAAEH,WAAW,EAAEA,WAAW;IAAEN,IAAI,EAAEA,IAAI;IAAEI,OAAO,EAAEA,OAAO;IAAED,aAAa,EAAEA,aAAa;IAAEK,QAAQ,EAAEA;EAAS,CAAC,EAClOpB,KAAK,CAAC0B,aAAa,CAAC,SAAS,EAAE;IAAEf,GAAG,EAAEA,GAAG;IAAEM,SAAS,EAAEX,CAAC,CAAC;MAAEM;IAAK,CAAC,EAAEK,SAAS,CAAC;IAAE,SAAS,EAAEK;EAAG,CAAC,EACzFC,cAAc,EACdC,cAAc,CAAC,CAAC;AAC5B,CAAC,CAAC;AACF,SAASC,eAAeA,CAACN,QAAQ,EAAE;EAC/B,MAAMQ,KAAK,GAAG3B,KAAK,CAAC4B,QAAQ,CAACC,OAAO,CAACV,QAAQ,CAAC;EAC9C,IAAIH,OAAO,EAAEc,OAAO;EACpB,MAAMC,OAAO,GAAG,EAAE;EAClB,KAAK,MAAMC,IAAI,IAAIL,KAAK,EAAE;IACtB,MAAMM,mBAAmB,GAAG1B,4BAA4B,CAACyB,IAAI,CAAC;IAC9D,IAAIC,mBAAmB,EAAE;MACrB,IAAIjB,OAAO,EAAE;QACT,MAAM,IAAIkB,KAAK,CAAC,oDAAoD,CAAC;MACzE;MACAlB,OAAO,GAAGgB,IAAI;MACd;IACJ;IACAD,OAAO,CAACI,IAAI,CAACH,IAAI,CAAC;EACtB;EACA,IAAID,OAAO,CAACK,MAAM,GAAG,CAAC,EAAE;IACpBN,OAAO,GAAG9B,KAAK,CAAC0B,aAAa,CAACvB,iBAAiB,EAAE,IAAI,EAAE4B,OAAO,CAAC;EACnE;EACA,IAAI,CAACf,OAAO,EAAE;IACVA,OAAO,GAAIhB,KAAK,CAAC0B,aAAa,CAACrB,iBAAiB,EAAE,IAAI,EAAGK,KAAK,IAAKV,KAAK,CAAC0B,aAAa,CAACtB,wBAAwB,EAAEiC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE5B,KAAK,CAAC,CAAC,CAAE;EAChJ;EACA,OAAO,CAACM,OAAO,EAAEc,OAAO,CAAC;AAC7B;AACAtB,UAAU,CAAC+B,OAAO,GAAGlC,iBAAiB;AACtCG,UAAU,CAACgC,WAAW,GAAG,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}