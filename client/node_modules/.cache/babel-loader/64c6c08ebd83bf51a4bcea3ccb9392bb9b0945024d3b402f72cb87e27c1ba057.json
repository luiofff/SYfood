{"ast":null,"code":"import React from 'react';\nimport _sumBy from 'lodash/sumBy';\nimport { block } from '../utils/cn';\nimport './Progress.css';\nconst b = block('progress');\nexport class Progress extends React.Component {\n  static isFiniteNumber(value) {\n    return isFinite(value) && !isNaN(value);\n  }\n  static isBetween(value, min, max) {\n    return value >= min && value <= max;\n  }\n  static getOffset(value) {\n    return value < 100 ? value - 100 : 0;\n  }\n  static getValueFromStack(stack) {\n    return _sumBy(stack, item => item.value);\n  }\n  static isProgressWithStack(props) {\n    return props.stack !== undefined;\n  }\n  render() {\n    const {\n      size,\n      className\n    } = this.props;\n    return React.createElement(\"div\", {\n      className: b({\n        size\n      }, className)\n    }, this.renderText(), this.renderContent());\n  }\n  getTheme() {\n    const progressProps = this.props;\n    if (Progress.isProgressWithStack(progressProps)) {\n      throw new Error('Unexpected behavior');\n    }\n    const {\n      theme,\n      colorStops,\n      colorStopsValue,\n      value\n    } = progressProps;\n    if (colorStops) {\n      const matchingColorStopItem = colorStops.find((item, index) => {\n        const currentValue = typeof colorStopsValue === 'number' ? colorStopsValue : value;\n        return Progress.isBetween(currentValue, index > 1 ? colorStops[index - 1].stop : 0, index < colorStops.length - 1 ? item.stop : 100);\n      });\n      return matchingColorStopItem ? matchingColorStopItem.theme : theme;\n    }\n    return theme;\n  }\n  renderContent() {\n    const progressProps = this.props;\n    if (Progress.isProgressWithStack(progressProps)) {\n      return this.renderStack(progressProps);\n    } else {\n      return this.renderItem(progressProps);\n    }\n  }\n  renderItem(props) {\n    const {\n      value\n    } = props;\n    const className = b('item', {\n      theme: this.getTheme(),\n      loading: this.props.loading\n    });\n    const offset = Progress.getOffset(value);\n    const style = {\n      transform: `translateX(${offset}%)`\n    };\n    if (Progress.isFiniteNumber(value)) {\n      return React.createElement(\"div\", {\n        className: className,\n        style: style\n      }, this.renderInnerText(offset));\n    }\n    return null;\n  }\n  renderStack(props) {\n    const {\n      stack,\n      stackClassName\n    } = props;\n    const className = b('stack', stackClassName);\n    const value = props.value || Progress.getValueFromStack(stack);\n    const offset = Progress.getOffset(value);\n    const style = {\n      transform: `translateX(${offset}%)`\n    };\n    let itemStyle = {\n      width: `${-offset}%`\n    };\n    return React.createElement(\"div\", {\n      className: className,\n      style: style\n    }, React.createElement(\"div\", {\n      className: b('item'),\n      style: itemStyle\n    }), stack.map(({\n      value: itemValue,\n      color,\n      title,\n      theme,\n      loading = false,\n      className: itemClassName,\n      content\n    }, index) => {\n      itemStyle = {\n        width: `${itemValue}%`,\n        backgroundColor: color\n      };\n      const modifiers = {\n        loading\n      };\n      if (typeof color === 'undefined') {\n        modifiers.theme = theme || 'default';\n      }\n      if (Progress.isFiniteNumber(value)) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: b('item', modifiers, itemClassName),\n          style: itemStyle,\n          title: title\n        }, content);\n      }\n      return null;\n    }), this.renderInnerText(offset));\n  }\n  renderInnerText(offset) {\n    const {\n      text\n    } = this.props;\n    if (!text) {\n      return null;\n    }\n    const className = b('text-inner');\n    const style = {\n      transform: `translateX(${-offset}%)`\n    };\n    return React.createElement(\"div\", {\n      className: className,\n      style: style\n    }, text);\n  }\n  renderText() {\n    const {\n      text\n    } = this.props;\n    const className = b('text');\n    return React.createElement(\"div\", {\n      className: className\n    }, text);\n  }\n}\nProgress.defaultProps = {\n  text: '',\n  theme: 'default',\n  size: 'm',\n  loading: false\n};","map":{"version":3,"names":["React","_sumBy","block","b","Progress","Component","isFiniteNumber","value","isFinite","isNaN","isBetween","min","max","getOffset","getValueFromStack","stack","item","isProgressWithStack","props","undefined","render","size","className","createElement","renderText","renderContent","getTheme","progressProps","Error","theme","colorStops","colorStopsValue","matchingColorStopItem","find","index","currentValue","stop","length","renderStack","renderItem","loading","offset","style","transform","renderInnerText","stackClassName","itemStyle","width","map","itemValue","color","title","itemClassName","content","backgroundColor","modifiers","key","text","defaultProps"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Progress/Progress.js"],"sourcesContent":["import React from 'react';\nimport _sumBy from 'lodash/sumBy';\nimport { block } from '../utils/cn';\nimport './Progress.css';\nconst b = block('progress');\nexport class Progress extends React.Component {\n    static isFiniteNumber(value) {\n        return isFinite(value) && !isNaN(value);\n    }\n    static isBetween(value, min, max) {\n        return value >= min && value <= max;\n    }\n    static getOffset(value) {\n        return value < 100 ? value - 100 : 0;\n    }\n    static getValueFromStack(stack) {\n        return _sumBy(stack, (item) => item.value);\n    }\n    static isProgressWithStack(props) {\n        return props.stack !== undefined;\n    }\n    render() {\n        const { size, className } = this.props;\n        return (React.createElement(\"div\", { className: b({ size }, className) },\n            this.renderText(),\n            this.renderContent()));\n    }\n    getTheme() {\n        const progressProps = this.props;\n        if (Progress.isProgressWithStack(progressProps)) {\n            throw new Error('Unexpected behavior');\n        }\n        const { theme, colorStops, colorStopsValue, value } = progressProps;\n        if (colorStops) {\n            const matchingColorStopItem = colorStops.find((item, index) => {\n                const currentValue = typeof colorStopsValue === 'number' ? colorStopsValue : value;\n                return Progress.isBetween(currentValue, index > 1 ? colorStops[index - 1].stop : 0, index < colorStops.length - 1 ? item.stop : 100);\n            });\n            return matchingColorStopItem ? matchingColorStopItem.theme : theme;\n        }\n        return theme;\n    }\n    renderContent() {\n        const progressProps = this.props;\n        if (Progress.isProgressWithStack(progressProps)) {\n            return this.renderStack(progressProps);\n        }\n        else {\n            return this.renderItem(progressProps);\n        }\n    }\n    renderItem(props) {\n        const { value } = props;\n        const className = b('item', { theme: this.getTheme(), loading: this.props.loading });\n        const offset = Progress.getOffset(value);\n        const style = { transform: `translateX(${offset}%)` };\n        if (Progress.isFiniteNumber(value)) {\n            return (React.createElement(\"div\", { className: className, style: style }, this.renderInnerText(offset)));\n        }\n        return null;\n    }\n    renderStack(props) {\n        const { stack, stackClassName } = props;\n        const className = b('stack', stackClassName);\n        const value = props.value || Progress.getValueFromStack(stack);\n        const offset = Progress.getOffset(value);\n        const style = { transform: `translateX(${offset}%)` };\n        let itemStyle = { width: `${-offset}%` };\n        return (React.createElement(\"div\", { className: className, style: style },\n            React.createElement(\"div\", { className: b('item'), style: itemStyle }),\n            stack.map(({ value: itemValue, color, title, theme, loading = false, className: itemClassName, content, }, index) => {\n                itemStyle = { width: `${itemValue}%`, backgroundColor: color };\n                const modifiers = {\n                    loading,\n                };\n                if (typeof color === 'undefined') {\n                    modifiers.theme = theme || 'default';\n                }\n                if (Progress.isFiniteNumber(value)) {\n                    return (React.createElement(\"div\", { key: index, className: b('item', modifiers, itemClassName), style: itemStyle, title: title }, content));\n                }\n                return null;\n            }),\n            this.renderInnerText(offset)));\n    }\n    renderInnerText(offset) {\n        const { text } = this.props;\n        if (!text) {\n            return null;\n        }\n        const className = b('text-inner');\n        const style = { transform: `translateX(${-offset}%)` };\n        return (React.createElement(\"div\", { className: className, style: style }, text));\n    }\n    renderText() {\n        const { text } = this.props;\n        const className = b('text');\n        return React.createElement(\"div\", { className: className }, text);\n    }\n}\nProgress.defaultProps = {\n    text: '',\n    theme: 'default',\n    size: 'm',\n    loading: false,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}