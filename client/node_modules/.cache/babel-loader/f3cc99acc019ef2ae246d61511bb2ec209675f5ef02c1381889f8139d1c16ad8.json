{"ast":null,"code":"import React from 'react';\nimport { block } from '../utils/cn';\nimport { useRadioGroup } from '../utils/useRadioGroup';\nimport { RadioButtonOption as Option } from './RadioButtonOption';\nimport './RadioButton.css';\nconst b = block('radio-button');\nexport const RadioButton = React.forwardRef(function RadioButton(props, ref) {\n  const {\n    size = 'm',\n    width,\n    style,\n    className,\n    qa,\n    children\n  } = props;\n  let options = props.options;\n  if (!options) {\n    options = React.Children.toArray(children).map(({\n      props\n    }) => ({\n      value: props.value,\n      content: props.content || props.children,\n      disabled: props.disabled\n    }));\n  }\n  const plateRef = React.useRef(null);\n  const optionRef = React.useRef();\n  const handleCheckedOptionMount = React.useCallback(checkedOptionNode => {\n    if (!checkedOptionNode) {\n      return;\n    }\n    const plateNode = plateRef.current;\n    if (!plateNode) {\n      return;\n    }\n    const uncheckedOptionNode = optionRef.current;\n    if (uncheckedOptionNode && uncheckedOptionNode !== checkedOptionNode) {\n      const setPlateStyle = node => {\n        plateNode.style.left = `${node.offsetLeft}px`;\n        plateNode.style.width = `${node.offsetWidth}px`;\n      };\n      setPlateStyle(uncheckedOptionNode);\n      plateNode.hidden = false;\n      setPlateStyle(checkedOptionNode);\n    }\n    optionRef.current = checkedOptionNode;\n  }, []);\n  const handlePlateTransitionEnd = React.useCallback(event => {\n    event.currentTarget.hidden = true;\n  }, []);\n  const {\n    containerProps,\n    optionsProps\n  } = useRadioGroup(Object.assign(Object.assign({}, props), {\n    options\n  }));\n  return React.createElement(\"div\", Object.assign({}, containerProps, {\n    ref: ref,\n    style: style,\n    className: b({\n      size,\n      width\n    }, className),\n    \"data-qa\": qa\n  }), React.createElement(\"div\", {\n    ref: plateRef,\n    className: b('plate'),\n    onTransitionEnd: handlePlateTransitionEnd,\n    hidden: true\n  }), optionsProps.map(optionProps => React.createElement(Option, Object.assign({}, optionProps, {\n    key: optionProps.value,\n    ref: optionProps.checked ? handleCheckedOptionMount : undefined\n  }))));\n});\nRadioButton.Option = Option;","map":{"version":3,"names":["React","block","useRadioGroup","RadioButtonOption","Option","b","RadioButton","forwardRef","props","ref","size","width","style","className","qa","children","options","Children","toArray","map","value","content","disabled","plateRef","useRef","optionRef","handleCheckedOptionMount","useCallback","checkedOptionNode","plateNode","current","uncheckedOptionNode","setPlateStyle","node","left","offsetLeft","offsetWidth","hidden","handlePlateTransitionEnd","event","currentTarget","containerProps","optionsProps","Object","assign","createElement","onTransitionEnd","optionProps","key","checked","undefined"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/RadioButton/RadioButton.js"],"sourcesContent":["import React from 'react';\nimport { block } from '../utils/cn';\nimport { useRadioGroup } from '../utils/useRadioGroup';\nimport { RadioButtonOption as Option } from './RadioButtonOption';\nimport './RadioButton.css';\nconst b = block('radio-button');\nexport const RadioButton = React.forwardRef(function RadioButton(props, ref) {\n    const { size = 'm', width, style, className, qa, children } = props;\n    let options = props.options;\n    if (!options) {\n        options = React.Children.toArray(children).map(({ props }) => ({\n            value: props.value,\n            content: props.content || props.children,\n            disabled: props.disabled,\n        }));\n    }\n    const plateRef = React.useRef(null);\n    const optionRef = React.useRef();\n    const handleCheckedOptionMount = React.useCallback((checkedOptionNode) => {\n        if (!checkedOptionNode) {\n            return;\n        }\n        const plateNode = plateRef.current;\n        if (!plateNode) {\n            return;\n        }\n        const uncheckedOptionNode = optionRef.current;\n        if (uncheckedOptionNode && uncheckedOptionNode !== checkedOptionNode) {\n            const setPlateStyle = (node) => {\n                plateNode.style.left = `${node.offsetLeft}px`;\n                plateNode.style.width = `${node.offsetWidth}px`;\n            };\n            setPlateStyle(uncheckedOptionNode);\n            plateNode.hidden = false;\n            setPlateStyle(checkedOptionNode);\n        }\n        optionRef.current = checkedOptionNode;\n    }, []);\n    const handlePlateTransitionEnd = React.useCallback((event) => {\n        event.currentTarget.hidden = true;\n    }, []);\n    const { containerProps, optionsProps } = useRadioGroup(Object.assign(Object.assign({}, props), { options }));\n    return (React.createElement(\"div\", Object.assign({}, containerProps, { ref: ref, style: style, className: b({ size, width }, className), \"data-qa\": qa }),\n        React.createElement(\"div\", { ref: plateRef, className: b('plate'), onTransitionEnd: handlePlateTransitionEnd, hidden: true }),\n        optionsProps.map((optionProps) => (React.createElement(Option, Object.assign({}, optionProps, { key: optionProps.value, ref: optionProps.checked ? handleCheckedOptionMount : undefined }))))));\n});\nRadioButton.Option = Option;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}