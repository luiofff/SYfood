{"ast":null,"code":"import React from 'react';\nimport { eventBroker } from './event-broker';\nimport { getComponentName } from './getComponentName';\nexport function withEventBrokerDomHandlers(Component, eventTypes, eventBrokerData) {\n  const componentName = getComponentName(Component);\n  const displayName = `withEventBroker(${componentName})`;\n  const LoggedComponent = React.forwardRef((props, ref) => {\n    const decoratedHandlers = eventTypes.reduce((handlers, eventType) => {\n      const originalHandler = props[eventType];\n      return Object.assign(Object.assign({}, handlers), {\n        [eventType]: event => {\n          eventBroker.publish(Object.assign({\n            eventId: eventType.replace(/^on/, '').toLowerCase(),\n            domEvent: event\n          }, eventBrokerData));\n          return originalHandler && originalHandler(event);\n        }\n      });\n    }, {});\n    return React.createElement(Component, Object.assign({}, props, decoratedHandlers, {\n      ref: ref\n    }));\n  });\n  LoggedComponent.displayName = displayName;\n  return LoggedComponent;\n}","map":{"version":3,"names":["React","eventBroker","getComponentName","withEventBrokerDomHandlers","Component","eventTypes","eventBrokerData","componentName","displayName","LoggedComponent","forwardRef","props","ref","decoratedHandlers","reduce","handlers","eventType","originalHandler","Object","assign","event","publish","eventId","replace","toLowerCase","domEvent","createElement"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/utils/withEventBrokerDomHandlers.js"],"sourcesContent":["import React from 'react';\nimport { eventBroker } from './event-broker';\nimport { getComponentName } from './getComponentName';\nexport function withEventBrokerDomHandlers(Component, eventTypes, eventBrokerData) {\n    const componentName = getComponentName(Component);\n    const displayName = `withEventBroker(${componentName})`;\n    const LoggedComponent = React.forwardRef((props, ref) => {\n        const decoratedHandlers = eventTypes.reduce((handlers, eventType) => {\n            const originalHandler = props[eventType];\n            return Object.assign(Object.assign({}, handlers), { [eventType]: (event) => {\n                    eventBroker.publish(Object.assign({ eventId: eventType.replace(/^on/, '').toLowerCase(), domEvent: event }, eventBrokerData));\n                    return originalHandler && originalHandler(event);\n                } });\n        }, {});\n        return React.createElement(Component, Object.assign({}, props, decoratedHandlers, { ref: ref }));\n    });\n    LoggedComponent.displayName = displayName;\n    return LoggedComponent;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAO,SAASC,0BAA0BA,CAACC,SAAS,EAAEC,UAAU,EAAEC,eAAe,EAAE;EAC/E,MAAMC,aAAa,GAAGL,gBAAgB,CAACE,SAAS,CAAC;EACjD,MAAMI,WAAW,GAAI,mBAAkBD,aAAc,GAAE;EACvD,MAAME,eAAe,GAAGT,KAAK,CAACU,UAAU,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;IACrD,MAAMC,iBAAiB,GAAGR,UAAU,CAACS,MAAM,CAAC,CAACC,QAAQ,EAAEC,SAAS,KAAK;MACjE,MAAMC,eAAe,GAAGN,KAAK,CAACK,SAAS,CAAC;MACxC,OAAOE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEJ,QAAQ,CAAC,EAAE;QAAE,CAACC,SAAS,GAAII,KAAK,IAAK;UACpEnB,WAAW,CAACoB,OAAO,CAACH,MAAM,CAACC,MAAM,CAAC;YAAEG,OAAO,EAAEN,SAAS,CAACO,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC;YAAEC,QAAQ,EAAEL;UAAM,CAAC,EAAEd,eAAe,CAAC,CAAC;UAC7H,OAAOW,eAAe,IAAIA,eAAe,CAACG,KAAK,CAAC;QACpD;MAAE,CAAC,CAAC;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,OAAOpB,KAAK,CAAC0B,aAAa,CAACtB,SAAS,EAAEc,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAER,KAAK,EAAEE,iBAAiB,EAAE;MAAED,GAAG,EAAEA;IAAI,CAAC,CAAC,CAAC;EACpG,CAAC,CAAC;EACFH,eAAe,CAACD,WAAW,GAAGA,WAAW;EACzC,OAAOC,eAAe;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}