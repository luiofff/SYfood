{"ast":null,"code":"import { __rest } from \"tslib\";\nimport React from 'react';\nimport { MobileContext } from './MobileContext';\nimport { Platform, rootMobileClassName } from './constants';\nfunction useHistoryMock() {\n  return {\n    action: '',\n    replace() {},\n    push() {},\n    goBack() {}\n  };\n}\nfunction useLocationMock() {\n  return {\n    pathname: '',\n    search: '',\n    hash: ''\n  };\n}\nexport function MobileProvider({\n  mobile = false,\n  platform = Platform.BROWSER,\n  useHistory = useHistoryMock,\n  useLocation = useLocationMock,\n  children\n}) {\n  const [mobileValue, setMobile] = React.useState(mobile);\n  const [platformValue, setPlatform] = React.useState(platform);\n  const useHistoryFunction = React.useCallback(function useHistoryFunction() {\n    const _a = useHistory(),\n      {\n        goBack,\n        back\n      } = _a,\n      props = __rest(_a, [\"goBack\", \"back\"]);\n    let goBackFunction;\n    if (typeof goBack === 'function') {\n      goBackFunction = goBack;\n    } else if (typeof back === 'function') {\n      goBackFunction = back;\n    } else {\n      goBackFunction = () => {};\n    }\n    return Object.assign(Object.assign({}, props), {\n      goBack: goBackFunction\n    });\n  }, [useHistory]);\n  React.useEffect(() => {\n    document.body.classList.toggle(rootMobileClassName, mobileValue);\n  }, [rootMobileClassName, mobileValue]);\n  const state = React.useMemo(() => {\n    return {\n      mobile: mobileValue,\n      setMobile,\n      platform: platformValue,\n      setPlatform,\n      useLocation,\n      useHistory: useHistoryFunction\n    };\n  }, [mobileValue, platformValue, useLocation, useHistoryFunction]);\n  return React.createElement(MobileContext.Provider, {\n    value: state\n  }, children);\n}","map":{"version":3,"names":["__rest","React","MobileContext","Platform","rootMobileClassName","useHistoryMock","action","replace","push","goBack","useLocationMock","pathname","search","hash","MobileProvider","mobile","platform","BROWSER","useHistory","useLocation","children","mobileValue","setMobile","useState","platformValue","setPlatform","useHistoryFunction","useCallback","_a","back","props","goBackFunction","Object","assign","useEffect","document","body","classList","toggle","state","useMemo","createElement","Provider","value"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/mobile/MobileProvider.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport React from 'react';\nimport { MobileContext } from './MobileContext';\nimport { Platform, rootMobileClassName } from './constants';\nfunction useHistoryMock() {\n    return { action: '', replace() { }, push() { }, goBack() { } };\n}\nfunction useLocationMock() {\n    return { pathname: '', search: '', hash: '' };\n}\nexport function MobileProvider({ mobile = false, platform = Platform.BROWSER, useHistory = useHistoryMock, useLocation = useLocationMock, children, }) {\n    const [mobileValue, setMobile] = React.useState(mobile);\n    const [platformValue, setPlatform] = React.useState(platform);\n    const useHistoryFunction = React.useCallback(function useHistoryFunction() {\n        const _a = useHistory(), { goBack, back } = _a, props = __rest(_a, [\"goBack\", \"back\"]);\n        let goBackFunction;\n        if (typeof goBack === 'function') {\n            goBackFunction = goBack;\n        }\n        else if (typeof back === 'function') {\n            goBackFunction = back;\n        }\n        else {\n            goBackFunction = () => { };\n        }\n        return Object.assign(Object.assign({}, props), { goBack: goBackFunction });\n    }, [useHistory]);\n    React.useEffect(() => {\n        document.body.classList.toggle(rootMobileClassName, mobileValue);\n    }, [rootMobileClassName, mobileValue]);\n    const state = React.useMemo(() => {\n        return {\n            mobile: mobileValue,\n            setMobile,\n            platform: platformValue,\n            setPlatform,\n            useLocation,\n            useHistory: useHistoryFunction,\n        };\n    }, [mobileValue, platformValue, useLocation, useHistoryFunction]);\n    return React.createElement(MobileContext.Provider, { value: state }, children);\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,QAAQ,EAAEC,mBAAmB,QAAQ,aAAa;AAC3D,SAASC,cAAcA,CAAA,EAAG;EACtB,OAAO;IAAEC,MAAM,EAAE,EAAE;IAAEC,OAAOA,CAAA,EAAG,CAAE,CAAC;IAAEC,IAAIA,CAAA,EAAG,CAAE,CAAC;IAAEC,MAAMA,CAAA,EAAG,CAAE;EAAE,CAAC;AAClE;AACA,SAASC,eAAeA,CAAA,EAAG;EACvB,OAAO;IAAEC,QAAQ,EAAE,EAAE;IAAEC,MAAM,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC;AACjD;AACA,OAAO,SAASC,cAAcA,CAAC;EAAEC,MAAM,GAAG,KAAK;EAAEC,QAAQ,GAAGb,QAAQ,CAACc,OAAO;EAAEC,UAAU,GAAGb,cAAc;EAAEc,WAAW,GAAGT,eAAe;EAAEU;AAAU,CAAC,EAAE;EACnJ,MAAM,CAACC,WAAW,EAAEC,SAAS,CAAC,GAAGrB,KAAK,CAACsB,QAAQ,CAACR,MAAM,CAAC;EACvD,MAAM,CAACS,aAAa,EAAEC,WAAW,CAAC,GAAGxB,KAAK,CAACsB,QAAQ,CAACP,QAAQ,CAAC;EAC7D,MAAMU,kBAAkB,GAAGzB,KAAK,CAAC0B,WAAW,CAAC,SAASD,kBAAkBA,CAAA,EAAG;IACvE,MAAME,EAAE,GAAGV,UAAU,CAAC,CAAC;MAAE;QAAET,MAAM;QAAEoB;MAAK,CAAC,GAAGD,EAAE;MAAEE,KAAK,GAAG9B,MAAM,CAAC4B,EAAE,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACtF,IAAIG,cAAc;IAClB,IAAI,OAAOtB,MAAM,KAAK,UAAU,EAAE;MAC9BsB,cAAc,GAAGtB,MAAM;IAC3B,CAAC,MACI,IAAI,OAAOoB,IAAI,KAAK,UAAU,EAAE;MACjCE,cAAc,GAAGF,IAAI;IACzB,CAAC,MACI;MACDE,cAAc,GAAGA,CAAA,KAAM,CAAE,CAAC;IAC9B;IACA,OAAOC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,KAAK,CAAC,EAAE;MAAErB,MAAM,EAAEsB;IAAe,CAAC,CAAC;EAC9E,CAAC,EAAE,CAACb,UAAU,CAAC,CAAC;EAChBjB,KAAK,CAACiC,SAAS,CAAC,MAAM;IAClBC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,MAAM,CAAClC,mBAAmB,EAAEiB,WAAW,CAAC;EACpE,CAAC,EAAE,CAACjB,mBAAmB,EAAEiB,WAAW,CAAC,CAAC;EACtC,MAAMkB,KAAK,GAAGtC,KAAK,CAACuC,OAAO,CAAC,MAAM;IAC9B,OAAO;MACHzB,MAAM,EAAEM,WAAW;MACnBC,SAAS;MACTN,QAAQ,EAAEQ,aAAa;MACvBC,WAAW;MACXN,WAAW;MACXD,UAAU,EAAEQ;IAChB,CAAC;EACL,CAAC,EAAE,CAACL,WAAW,EAAEG,aAAa,EAAEL,WAAW,EAAEO,kBAAkB,CAAC,CAAC;EACjE,OAAOzB,KAAK,CAACwC,aAAa,CAACvC,aAAa,CAACwC,QAAQ,EAAE;IAAEC,KAAK,EAAEJ;EAAM,CAAC,EAAEnB,QAAQ,CAAC;AAClF"},"metadata":{},"sourceType":"module","externalDependencies":[]}