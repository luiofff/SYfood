{"ast":null,"code":"import { __rest } from \"tslib\";\nimport React from 'react';\nimport { Platform, withMobile } from '../mobile';\nimport { sheetBlock } from './constants';\nimport { VelocityTracker } from './utils';\nimport './Sheet.css';\nconst DEFAULT_TRANSITION_DURATION = '0.3s';\nconst HIDE_THRESHOLD = 50;\nconst ACCELERATION_Y_MAX = 0.08;\nconst ACCELERATION_Y_MIN = -0.02;\n// 90% from viewport\nconst MAX_CONTENT_HEIGHT_FROM_VIEWPORT_COEFFICIENT = 0.9;\nlet hashHistory = [];\nclass SheetContent extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.veilRef = React.createRef();\n    this.sheetRef = React.createRef();\n    this.sheetTopRef = React.createRef();\n    this.sheetContentRef = React.createRef();\n    this.sheetInnerContentRef = React.createRef();\n    this.sheetTitleRef = React.createRef();\n    this.velocityTracker = new VelocityTracker();\n    this.observer = null;\n    this.transitionDuration = DEFAULT_TRANSITION_DURATION;\n    this.state = {\n      startScrollTop: 0,\n      startY: 0,\n      deltaY: 0,\n      prevInnerContentHeight: 0,\n      swipeAreaTouched: false,\n      contentTouched: false,\n      veilTouched: false,\n      isAnimating: false,\n      inWindowResizeScope: false\n    };\n    this.setStyles = ({\n      status,\n      deltaHeight = 0\n    }) => {\n      if (!this.sheetRef.current || !this.veilRef.current) {\n        return;\n      }\n      const visibleHeight = this.sheetHeight - deltaHeight;\n      const translate = status === 'showing' ? `translate3d(0, -${visibleHeight}px, 0)` : 'translate3d(0, 0, 0)';\n      let opacity = 0;\n      if (status === 'showing') {\n        opacity = deltaHeight === 0 ? 1 : visibleHeight / this.sheetHeight;\n      }\n      this.veilRef.current.style.opacity = String(opacity);\n      this.sheetRef.current.style.transform = translate;\n    };\n    this.show = () => {\n      this.setState({\n        isAnimating: true\n      }, () => {\n        this.setStyles({\n          status: 'showing'\n        });\n        this.setHash();\n      });\n    };\n    this.hide = () => {\n      this.setState({\n        isAnimating: true\n      }, () => {\n        this.setStyles({\n          status: 'hiding'\n        });\n        this.removeHash();\n      });\n    };\n    this.onSwipeAreaTouchStart = e => {\n      this.velocityTracker.clear();\n      this.setState({\n        startY: e.nativeEvent.touches[0].clientY,\n        swipeAreaTouched: true\n      });\n    };\n    this.onContentTouchStart = e => {\n      if (!this.props.allowHideOnContentScroll || this.state.swipeAreaTouched) {\n        return;\n      }\n      this.velocityTracker.clear();\n      this.setState({\n        startY: e.nativeEvent.touches[0].clientY,\n        startScrollTop: this.sheetScrollTop,\n        contentTouched: true\n      });\n    };\n    this.onSwipeAriaTouchMove = e => {\n      const delta = e.nativeEvent.touches[0].clientY - this.state.startY;\n      this.velocityTracker.addMovement({\n        x: e.nativeEvent.touches[0].clientX,\n        y: e.nativeEvent.touches[0].clientY\n      });\n      this.setState({\n        deltaY: delta\n      });\n      if (delta <= 0) {\n        return;\n      }\n      this.setStyles({\n        status: 'showing',\n        deltaHeight: delta\n      });\n    };\n    this.onContentTouchMove = e => {\n      if (!this.props.allowHideOnContentScroll) {\n        return;\n      }\n      const {\n        startScrollTop,\n        swipeAreaTouched\n      } = this.state;\n      if (swipeAreaTouched || this.sheetScrollTop > 0 || startScrollTop > 0 && startScrollTop !== this.sheetScrollTop) {\n        return;\n      }\n      const delta = e.nativeEvent.touches[0].clientY - this.state.startY;\n      this.velocityTracker.addMovement({\n        x: e.nativeEvent.touches[0].clientX,\n        y: e.nativeEvent.touches[0].clientY\n      });\n      this.setState({\n        deltaY: delta\n      });\n      if (delta <= 0) {\n        return;\n      }\n      this.setStyles({\n        status: 'showing',\n        deltaHeight: delta\n      });\n    };\n    this.onTouchEndAction = deltaY => {\n      const accelerationY = this.velocityTracker.getYAcceleration();\n      if (this.sheetHeight <= deltaY) {\n        this.props.hideSheet();\n      } else if (deltaY > HIDE_THRESHOLD && accelerationY <= ACCELERATION_Y_MAX && accelerationY >= ACCELERATION_Y_MIN || accelerationY > ACCELERATION_Y_MAX) {\n        this.hide();\n      } else if (deltaY > 0) {\n        this.show();\n      }\n    };\n    this.onSwipeAriaTouchEnd = () => {\n      const {\n        deltaY\n      } = this.state;\n      this.onTouchEndAction(deltaY);\n      this.setState({\n        startY: 0,\n        deltaY: 0,\n        swipeAreaTouched: false\n      });\n    };\n    this.onContentTouchEnd = () => {\n      const {\n        deltaY,\n        swipeAreaTouched\n      } = this.state;\n      if (!this.props.allowHideOnContentScroll || swipeAreaTouched) {\n        return;\n      }\n      this.onTouchEndAction(deltaY);\n      this.setState({\n        startY: 0,\n        deltaY: 0,\n        contentTouched: false\n      });\n    };\n    this.onVeilClick = () => {\n      this.setState({\n        veilTouched: true\n      });\n      this.hide();\n    };\n    this.onVeilTransitionEnd = () => {\n      this.setState({\n        isAnimating: false\n      });\n      if (this.veilOpacity === '0') {\n        this.props.hideSheet();\n      }\n    };\n    this.onContentTransitionEnd = e => {\n      if (e.propertyName === 'height') {\n        if (this.sheetContentRef.current) {\n          this.sheetContentRef.current.style.transition = 'none';\n        }\n      }\n    };\n    this.onResizeWindow = () => {\n      this.setState({\n        inWindowResizeScope: true\n      });\n      this.onResize();\n      setTimeout(() => this.setState({\n        inWindowResizeScope: false\n      }), 0);\n    };\n    this.onResize = () => {\n      const heightChanged = this.state.prevInnerContentHeight !== this.innerContentHeight;\n      if (!this.sheetRef.current || !this.sheetContentRef.current || !heightChanged) {\n        return;\n      }\n      this.sheetContentRef.current.style.transition = this.state.prevInnerContentHeight > this.innerContentHeight ? `height 0s ease ${this.transitionDuration}` : 'none';\n      const contentHeight = this.sheetTitleHeight + this.innerContentHeight;\n      const viewportHeight = window.innerHeight;\n      const resultHeight = contentHeight >= viewportHeight ? viewportHeight * MAX_CONTENT_HEIGHT_FROM_VIEWPORT_COEFFICIENT : contentHeight;\n      this.sheetContentRef.current.style.height = `${resultHeight}px`;\n      this.sheetRef.current.style.transform = `translate3d(0, -${resultHeight + this.sheetTopHeight}px, 0)`;\n      this.setState({\n        prevInnerContentHeight: contentHeight\n      });\n    };\n  }\n  componentDidMount() {\n    this.addListeners();\n    this.show();\n    this.setInitialStyles();\n    this.setState({\n      prevInnerContentHeight: this.innerContentHeight\n    });\n  }\n  componentDidUpdate(prevProps) {\n    const {\n      visible,\n      location\n    } = this.props;\n    if (!prevProps.visible && visible) {\n      this.show();\n    }\n    if (prevProps.visible && !visible || this.shouldClose(prevProps)) {\n      this.hide();\n    }\n    if (prevProps.location.pathname !== location.pathname) {\n      hashHistory = [];\n    }\n  }\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n  render() {\n    const {\n      content,\n      contentClassName,\n      swipeAreaClassName,\n      hideTopBar,\n      title\n    } = this.props;\n    const {\n      deltaY,\n      swipeAreaTouched,\n      contentTouched,\n      veilTouched,\n      isAnimating,\n      inWindowResizeScope\n    } = this.state;\n    const veilTransitionMod = {\n      'with-transition': !deltaY || veilTouched\n    };\n    const sheetTransitionMod = {\n      'with-transition': !inWindowResizeScope && veilTransitionMod['with-transition']\n    };\n    const contentMod = {\n      'without-scroll': deltaY > 0 && contentTouched || swipeAreaTouched\n    };\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      ref: this.veilRef,\n      className: sheetBlock('veil', veilTransitionMod),\n      onClick: isAnimating ? undefined : this.onVeilClick,\n      onTransitionEnd: this.onVeilTransitionEnd\n    }), React.createElement(\"div\", {\n      ref: this.sheetRef,\n      className: sheetBlock('sheet', sheetTransitionMod)\n    }, !hideTopBar && React.createElement(\"div\", {\n      ref: this.sheetTopRef,\n      className: sheetBlock('sheet-top')\n    }, React.createElement(\"div\", {\n      className: sheetBlock('sheet-top-resizer')\n    })), React.createElement(\"div\", {\n      className: sheetBlock('sheet-swipe-area', swipeAreaClassName),\n      onTouchStart: this.onSwipeAreaTouchStart,\n      onTouchMove: this.onSwipeAriaTouchMove,\n      onTouchEnd: this.onSwipeAriaTouchEnd\n    }), React.createElement(\"div\", {\n      ref: this.sheetContentRef,\n      className: sheetBlock('sheet-content', contentMod, contentClassName),\n      onTouchStart: this.onContentTouchStart,\n      onTouchMove: this.onContentTouchMove,\n      onTouchEnd: this.onContentTouchEnd,\n      onTransitionEnd: this.onContentTransitionEnd\n    }, title && React.createElement(\"div\", {\n      ref: this.sheetTitleRef,\n      className: sheetBlock('sheet-content-title')\n    }, title), React.createElement(\"div\", {\n      ref: this.sheetInnerContentRef\n    }, content))));\n  }\n  get veilOpacity() {\n    var _a;\n    return ((_a = this.veilRef.current) === null || _a === void 0 ? void 0 : _a.style.opacity) || 0;\n  }\n  get sheetTopHeight() {\n    var _a;\n    return ((_a = this.sheetTopRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n  }\n  get sheetHeight() {\n    var _a;\n    return ((_a = this.sheetRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n  }\n  get innerContentHeight() {\n    var _a;\n    return ((_a = this.sheetInnerContentRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n  }\n  get sheetTitleHeight() {\n    var _a;\n    return ((_a = this.sheetTitleRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n  }\n  get sheetScrollTop() {\n    var _a;\n    return ((_a = this.sheetContentRef.current) === null || _a === void 0 ? void 0 : _a.scrollTop) || 0;\n  }\n  setInitialStyles() {\n    if (this.sheetContentRef.current && this.sheetInnerContentRef.current) {\n      this.transitionDuration = getComputedStyle(this.sheetContentRef.current).getPropertyValue('--yc-sheet-transition-duration');\n      const initialHeight = this.sheetHeight - this.sheetTopHeight;\n      this.sheetContentRef.current.style.height = `${initialHeight}px`;\n    }\n  }\n  addListeners() {\n    window.addEventListener('resize', this.onResizeWindow);\n    if (this.sheetRef.current) {\n      const config = {\n        subtree: true,\n        childList: true\n      };\n      this.observer = new MutationObserver(this.onResize);\n      this.observer.observe(this.sheetRef.current, config);\n    }\n  }\n  removeListeners() {\n    window.removeEventListener('resize', this.onResizeWindow);\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  }\n  setHash() {\n    const {\n      id,\n      platform,\n      location,\n      history\n    } = this.props;\n    if (platform === Platform.BROWSER) {\n      return;\n    }\n    const newLocation = Object.assign(Object.assign({}, location), {\n      hash: id\n    });\n    switch (platform) {\n      case Platform.IOS:\n        if (location.hash) {\n          hashHistory.push(location.hash);\n        }\n        history.replace(newLocation);\n        break;\n      case Platform.ANDROID:\n        history.push(newLocation);\n        break;\n    }\n  }\n  removeHash() {\n    var _a;\n    const {\n      id,\n      platform,\n      location,\n      history\n    } = this.props;\n    if (platform === Platform.BROWSER || location.hash !== `#${id}`) {\n      return;\n    }\n    switch (platform) {\n      case Platform.IOS:\n        history.replace(Object.assign(Object.assign({}, location), {\n          hash: (_a = hashHistory.pop()) !== null && _a !== void 0 ? _a : ''\n        }));\n        break;\n      case Platform.ANDROID:\n        history.goBack();\n        break;\n    }\n  }\n  shouldClose(prevProps) {\n    const {\n      id,\n      platform,\n      location,\n      history\n    } = this.props;\n    return platform !== Platform.BROWSER && history.action === 'POP' && prevProps.location.hash !== location.hash && location.hash !== `#${id}`;\n  }\n}\nSheetContent.defaultProps = {\n  id: 'sheet',\n  allowHideOnContentScroll: true\n};\nfunction withRouterWrapper(Component) {\n  const ComponentWithRouter = props => {\n    const {\n        useHistory,\n        useLocation\n      } = props,\n      remainingProps = __rest(props, [\"useHistory\", \"useLocation\"]);\n    return React.createElement(Component, Object.assign({}, remainingProps, {\n      history: useHistory(),\n      location: useLocation()\n    }));\n  };\n  const componentName = Component.displayName || Component.name || 'Component';\n  ComponentWithRouter.displayName = `withRouterWrapper(${componentName})`;\n  return ComponentWithRouter;\n}\nexport const SheetContentContainer = withMobile(withRouterWrapper(SheetContent));","map":{"version":3,"names":["__rest","React","Platform","withMobile","sheetBlock","VelocityTracker","DEFAULT_TRANSITION_DURATION","HIDE_THRESHOLD","ACCELERATION_Y_MAX","ACCELERATION_Y_MIN","MAX_CONTENT_HEIGHT_FROM_VIEWPORT_COEFFICIENT","hashHistory","SheetContent","Component","constructor","arguments","veilRef","createRef","sheetRef","sheetTopRef","sheetContentRef","sheetInnerContentRef","sheetTitleRef","velocityTracker","observer","transitionDuration","state","startScrollTop","startY","deltaY","prevInnerContentHeight","swipeAreaTouched","contentTouched","veilTouched","isAnimating","inWindowResizeScope","setStyles","status","deltaHeight","current","visibleHeight","sheetHeight","translate","opacity","style","String","transform","show","setState","setHash","hide","removeHash","onSwipeAreaTouchStart","e","clear","nativeEvent","touches","clientY","onContentTouchStart","props","allowHideOnContentScroll","sheetScrollTop","onSwipeAriaTouchMove","delta","addMovement","x","clientX","y","onContentTouchMove","onTouchEndAction","accelerationY","getYAcceleration","hideSheet","onSwipeAriaTouchEnd","onContentTouchEnd","onVeilClick","onVeilTransitionEnd","veilOpacity","onContentTransitionEnd","propertyName","transition","onResizeWindow","onResize","setTimeout","heightChanged","innerContentHeight","contentHeight","sheetTitleHeight","viewportHeight","window","innerHeight","resultHeight","height","sheetTopHeight","componentDidMount","addListeners","setInitialStyles","componentDidUpdate","prevProps","visible","location","shouldClose","pathname","componentWillUnmount","removeListeners","render","content","contentClassName","swipeAreaClassName","hideTopBar","title","veilTransitionMod","sheetTransitionMod","contentMod","createElement","Fragment","ref","className","onClick","undefined","onTransitionEnd","onTouchStart","onTouchMove","onTouchEnd","_a","getBoundingClientRect","scrollTop","getComputedStyle","getPropertyValue","initialHeight","addEventListener","config","subtree","childList","MutationObserver","observe","removeEventListener","disconnect","id","platform","history","BROWSER","newLocation","Object","assign","hash","IOS","push","replace","ANDROID","pop","goBack","action","defaultProps","withRouterWrapper","ComponentWithRouter","useHistory","useLocation","remainingProps","componentName","displayName","name","SheetContentContainer"],"sources":["/Users/ilaulanov/node_modules/@gravity-ui/uikit/build/esm/components/Sheet/SheetContent.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport React from 'react';\nimport { Platform, withMobile } from '../mobile';\nimport { sheetBlock } from './constants';\nimport { VelocityTracker } from './utils';\nimport './Sheet.css';\nconst DEFAULT_TRANSITION_DURATION = '0.3s';\nconst HIDE_THRESHOLD = 50;\nconst ACCELERATION_Y_MAX = 0.08;\nconst ACCELERATION_Y_MIN = -0.02;\n// 90% from viewport\nconst MAX_CONTENT_HEIGHT_FROM_VIEWPORT_COEFFICIENT = 0.9;\nlet hashHistory = [];\nclass SheetContent extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.veilRef = React.createRef();\n        this.sheetRef = React.createRef();\n        this.sheetTopRef = React.createRef();\n        this.sheetContentRef = React.createRef();\n        this.sheetInnerContentRef = React.createRef();\n        this.sheetTitleRef = React.createRef();\n        this.velocityTracker = new VelocityTracker();\n        this.observer = null;\n        this.transitionDuration = DEFAULT_TRANSITION_DURATION;\n        this.state = {\n            startScrollTop: 0,\n            startY: 0,\n            deltaY: 0,\n            prevInnerContentHeight: 0,\n            swipeAreaTouched: false,\n            contentTouched: false,\n            veilTouched: false,\n            isAnimating: false,\n            inWindowResizeScope: false,\n        };\n        this.setStyles = ({ status, deltaHeight = 0 }) => {\n            if (!this.sheetRef.current || !this.veilRef.current) {\n                return;\n            }\n            const visibleHeight = this.sheetHeight - deltaHeight;\n            const translate = status === 'showing'\n                ? `translate3d(0, -${visibleHeight}px, 0)`\n                : 'translate3d(0, 0, 0)';\n            let opacity = 0;\n            if (status === 'showing') {\n                opacity = deltaHeight === 0 ? 1 : visibleHeight / this.sheetHeight;\n            }\n            this.veilRef.current.style.opacity = String(opacity);\n            this.sheetRef.current.style.transform = translate;\n        };\n        this.show = () => {\n            this.setState({ isAnimating: true }, () => {\n                this.setStyles({ status: 'showing' });\n                this.setHash();\n            });\n        };\n        this.hide = () => {\n            this.setState({ isAnimating: true }, () => {\n                this.setStyles({ status: 'hiding' });\n                this.removeHash();\n            });\n        };\n        this.onSwipeAreaTouchStart = (e) => {\n            this.velocityTracker.clear();\n            this.setState({\n                startY: e.nativeEvent.touches[0].clientY,\n                swipeAreaTouched: true,\n            });\n        };\n        this.onContentTouchStart = (e) => {\n            if (!this.props.allowHideOnContentScroll || this.state.swipeAreaTouched) {\n                return;\n            }\n            this.velocityTracker.clear();\n            this.setState({\n                startY: e.nativeEvent.touches[0].clientY,\n                startScrollTop: this.sheetScrollTop,\n                contentTouched: true,\n            });\n        };\n        this.onSwipeAriaTouchMove = (e) => {\n            const delta = e.nativeEvent.touches[0].clientY - this.state.startY;\n            this.velocityTracker.addMovement({\n                x: e.nativeEvent.touches[0].clientX,\n                y: e.nativeEvent.touches[0].clientY,\n            });\n            this.setState({ deltaY: delta });\n            if (delta <= 0) {\n                return;\n            }\n            this.setStyles({ status: 'showing', deltaHeight: delta });\n        };\n        this.onContentTouchMove = (e) => {\n            if (!this.props.allowHideOnContentScroll) {\n                return;\n            }\n            const { startScrollTop, swipeAreaTouched } = this.state;\n            if (swipeAreaTouched ||\n                this.sheetScrollTop > 0 ||\n                (startScrollTop > 0 && startScrollTop !== this.sheetScrollTop)) {\n                return;\n            }\n            const delta = e.nativeEvent.touches[0].clientY - this.state.startY;\n            this.velocityTracker.addMovement({\n                x: e.nativeEvent.touches[0].clientX,\n                y: e.nativeEvent.touches[0].clientY,\n            });\n            this.setState({ deltaY: delta });\n            if (delta <= 0) {\n                return;\n            }\n            this.setStyles({ status: 'showing', deltaHeight: delta });\n        };\n        this.onTouchEndAction = (deltaY) => {\n            const accelerationY = this.velocityTracker.getYAcceleration();\n            if (this.sheetHeight <= deltaY) {\n                this.props.hideSheet();\n            }\n            else if ((deltaY > HIDE_THRESHOLD &&\n                accelerationY <= ACCELERATION_Y_MAX &&\n                accelerationY >= ACCELERATION_Y_MIN) ||\n                accelerationY > ACCELERATION_Y_MAX) {\n                this.hide();\n            }\n            else if (deltaY > 0) {\n                this.show();\n            }\n        };\n        this.onSwipeAriaTouchEnd = () => {\n            const { deltaY } = this.state;\n            this.onTouchEndAction(deltaY);\n            this.setState({\n                startY: 0,\n                deltaY: 0,\n                swipeAreaTouched: false,\n            });\n        };\n        this.onContentTouchEnd = () => {\n            const { deltaY, swipeAreaTouched } = this.state;\n            if (!this.props.allowHideOnContentScroll || swipeAreaTouched) {\n                return;\n            }\n            this.onTouchEndAction(deltaY);\n            this.setState({\n                startY: 0,\n                deltaY: 0,\n                contentTouched: false,\n            });\n        };\n        this.onVeilClick = () => {\n            this.setState({ veilTouched: true });\n            this.hide();\n        };\n        this.onVeilTransitionEnd = () => {\n            this.setState({ isAnimating: false });\n            if (this.veilOpacity === '0') {\n                this.props.hideSheet();\n            }\n        };\n        this.onContentTransitionEnd = (e) => {\n            if (e.propertyName === 'height') {\n                if (this.sheetContentRef.current) {\n                    this.sheetContentRef.current.style.transition = 'none';\n                }\n            }\n        };\n        this.onResizeWindow = () => {\n            this.setState({ inWindowResizeScope: true });\n            this.onResize();\n            setTimeout(() => this.setState({ inWindowResizeScope: false }), 0);\n        };\n        this.onResize = () => {\n            const heightChanged = this.state.prevInnerContentHeight !== this.innerContentHeight;\n            if (!this.sheetRef.current || !this.sheetContentRef.current || !heightChanged) {\n                return;\n            }\n            this.sheetContentRef.current.style.transition =\n                this.state.prevInnerContentHeight > this.innerContentHeight\n                    ? `height 0s ease ${this.transitionDuration}`\n                    : 'none';\n            const contentHeight = this.sheetTitleHeight + this.innerContentHeight;\n            const viewportHeight = window.innerHeight;\n            const resultHeight = contentHeight >= viewportHeight\n                ? viewportHeight * MAX_CONTENT_HEIGHT_FROM_VIEWPORT_COEFFICIENT\n                : contentHeight;\n            this.sheetContentRef.current.style.height = `${resultHeight}px`;\n            this.sheetRef.current.style.transform = `translate3d(0, -${resultHeight + this.sheetTopHeight}px, 0)`;\n            this.setState({ prevInnerContentHeight: contentHeight });\n        };\n    }\n    componentDidMount() {\n        this.addListeners();\n        this.show();\n        this.setInitialStyles();\n        this.setState({ prevInnerContentHeight: this.innerContentHeight });\n    }\n    componentDidUpdate(prevProps) {\n        const { visible, location } = this.props;\n        if (!prevProps.visible && visible) {\n            this.show();\n        }\n        if ((prevProps.visible && !visible) || this.shouldClose(prevProps)) {\n            this.hide();\n        }\n        if (prevProps.location.pathname !== location.pathname) {\n            hashHistory = [];\n        }\n    }\n    componentWillUnmount() {\n        this.removeListeners();\n    }\n    render() {\n        const { content, contentClassName, swipeAreaClassName, hideTopBar, title } = this.props;\n        const { deltaY, swipeAreaTouched, contentTouched, veilTouched, isAnimating, inWindowResizeScope, } = this.state;\n        const veilTransitionMod = {\n            'with-transition': !deltaY || veilTouched,\n        };\n        const sheetTransitionMod = {\n            'with-transition': !inWindowResizeScope && veilTransitionMod['with-transition'],\n        };\n        const contentMod = {\n            'without-scroll': (deltaY > 0 && contentTouched) || swipeAreaTouched,\n        };\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { ref: this.veilRef, className: sheetBlock('veil', veilTransitionMod), onClick: isAnimating ? undefined : this.onVeilClick, onTransitionEnd: this.onVeilTransitionEnd }),\n            React.createElement(\"div\", { ref: this.sheetRef, className: sheetBlock('sheet', sheetTransitionMod) },\n                !hideTopBar && (React.createElement(\"div\", { ref: this.sheetTopRef, className: sheetBlock('sheet-top') },\n                    React.createElement(\"div\", { className: sheetBlock('sheet-top-resizer') }))),\n                React.createElement(\"div\", { className: sheetBlock('sheet-swipe-area', swipeAreaClassName), onTouchStart: this.onSwipeAreaTouchStart, onTouchMove: this.onSwipeAriaTouchMove, onTouchEnd: this.onSwipeAriaTouchEnd }),\n                React.createElement(\"div\", { ref: this.sheetContentRef, className: sheetBlock('sheet-content', contentMod, contentClassName), onTouchStart: this.onContentTouchStart, onTouchMove: this.onContentTouchMove, onTouchEnd: this.onContentTouchEnd, onTransitionEnd: this.onContentTransitionEnd },\n                    title && (React.createElement(\"div\", { ref: this.sheetTitleRef, className: sheetBlock('sheet-content-title') }, title)),\n                    React.createElement(\"div\", { ref: this.sheetInnerContentRef }, content)))));\n    }\n    get veilOpacity() {\n        var _a;\n        return ((_a = this.veilRef.current) === null || _a === void 0 ? void 0 : _a.style.opacity) || 0;\n    }\n    get sheetTopHeight() {\n        var _a;\n        return ((_a = this.sheetTopRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n    }\n    get sheetHeight() {\n        var _a;\n        return ((_a = this.sheetRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n    }\n    get innerContentHeight() {\n        var _a;\n        return ((_a = this.sheetInnerContentRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n    }\n    get sheetTitleHeight() {\n        var _a;\n        return ((_a = this.sheetTitleRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0;\n    }\n    get sheetScrollTop() {\n        var _a;\n        return ((_a = this.sheetContentRef.current) === null || _a === void 0 ? void 0 : _a.scrollTop) || 0;\n    }\n    setInitialStyles() {\n        if (this.sheetContentRef.current && this.sheetInnerContentRef.current) {\n            this.transitionDuration = getComputedStyle(this.sheetContentRef.current).getPropertyValue('--yc-sheet-transition-duration');\n            const initialHeight = this.sheetHeight - this.sheetTopHeight;\n            this.sheetContentRef.current.style.height = `${initialHeight}px`;\n        }\n    }\n    addListeners() {\n        window.addEventListener('resize', this.onResizeWindow);\n        if (this.sheetRef.current) {\n            const config = { subtree: true, childList: true };\n            this.observer = new MutationObserver(this.onResize);\n            this.observer.observe(this.sheetRef.current, config);\n        }\n    }\n    removeListeners() {\n        window.removeEventListener('resize', this.onResizeWindow);\n        if (this.observer) {\n            this.observer.disconnect();\n        }\n    }\n    setHash() {\n        const { id, platform, location, history } = this.props;\n        if (platform === Platform.BROWSER) {\n            return;\n        }\n        const newLocation = Object.assign(Object.assign({}, location), { hash: id });\n        switch (platform) {\n            case Platform.IOS:\n                if (location.hash) {\n                    hashHistory.push(location.hash);\n                }\n                history.replace(newLocation);\n                break;\n            case Platform.ANDROID:\n                history.push(newLocation);\n                break;\n        }\n    }\n    removeHash() {\n        var _a;\n        const { id, platform, location, history } = this.props;\n        if (platform === Platform.BROWSER || location.hash !== `#${id}`) {\n            return;\n        }\n        switch (platform) {\n            case Platform.IOS:\n                history.replace(Object.assign(Object.assign({}, location), { hash: (_a = hashHistory.pop()) !== null && _a !== void 0 ? _a : '' }));\n                break;\n            case Platform.ANDROID:\n                history.goBack();\n                break;\n        }\n    }\n    shouldClose(prevProps) {\n        const { id, platform, location, history } = this.props;\n        return (platform !== Platform.BROWSER &&\n            history.action === 'POP' &&\n            prevProps.location.hash !== location.hash &&\n            location.hash !== `#${id}`);\n    }\n}\nSheetContent.defaultProps = {\n    id: 'sheet',\n    allowHideOnContentScroll: true,\n};\nfunction withRouterWrapper(Component) {\n    const ComponentWithRouter = (props) => {\n        const { useHistory, useLocation } = props, remainingProps = __rest(props, [\"useHistory\", \"useLocation\"]);\n        return React.createElement(Component, Object.assign({}, remainingProps, { history: useHistory(), location: useLocation() }));\n    };\n    const componentName = Component.displayName || Component.name || 'Component';\n    ComponentWithRouter.displayName = `withRouterWrapper(${componentName})`;\n    return ComponentWithRouter;\n}\nexport const SheetContentContainer = withMobile(withRouterWrapper(SheetContent));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}