{"ast":null,"code":"import capitalize from 'lodash/capitalize';\nimport uniqBy from 'lodash/uniqBy';\nimport { split } from './utils';\nconst GROUPS_SEPARATOR = /\\s/;\nconst KEYS_SEPARATOR = '+';\nexport function parseKeyGroups(defs, value) {\n  return split(value, GROUPS_SEPARATOR).map(keys => uniqBy(split(keys, KEYS_SEPARATOR).map(keyParser(defs)).sort((a, b) => b.priority - a.priority),\n  // high to low\n  key => key.id).map(renderKey));\n}\nfunction keyParser(defs) {\n  return function (raw) {\n    var _a;\n    const keyId = getKeyId(defs, raw);\n    return {\n      raw,\n      id: keyId,\n      priority: (_a = defs.Priority[keyId]) !== null && _a !== void 0 ? _a : 0,\n      displayName: defs.DisplayName[keyId]\n    };\n  };\n}\nfunction getKeyId(defs, val) {\n  var _a;\n  val = val.toLowerCase();\n  return (_a = defs.NormalizeMap[val]) !== null && _a !== void 0 ? _a : val;\n}\nfunction renderKey(key) {\n  var _a;\n  return (_a = key.displayName) !== null && _a !== void 0 ? _a : capitalize(key.id);\n}","map":{"version":3,"names":["capitalize","uniqBy","split","GROUPS_SEPARATOR","KEYS_SEPARATOR","parseKeyGroups","defs","value","map","keys","keyParser","sort","a","b","priority","key","id","renderKey","raw","_a","keyId","getKeyId","Priority","displayName","DisplayName","val","toLowerCase","NormalizeMap"],"sources":["/Users/ilaulanov/Documents/SynopsisYard/SYfood/client/node_modules/@gravity-ui/uikit/build/esm/components/Hotkey/parse.js"],"sourcesContent":["import capitalize from 'lodash/capitalize';\nimport uniqBy from 'lodash/uniqBy';\nimport { split } from './utils';\nconst GROUPS_SEPARATOR = /\\s/;\nconst KEYS_SEPARATOR = '+';\nexport function parseKeyGroups(defs, value) {\n    return split(value, GROUPS_SEPARATOR).map((keys) => uniqBy(split(keys, KEYS_SEPARATOR)\n        .map(keyParser(defs))\n        .sort((a, b) => b.priority - a.priority), // high to low\n    (key) => key.id).map(renderKey));\n}\nfunction keyParser(defs) {\n    return function (raw) {\n        var _a;\n        const keyId = getKeyId(defs, raw);\n        return {\n            raw,\n            id: keyId,\n            priority: (_a = defs.Priority[keyId]) !== null && _a !== void 0 ? _a : 0,\n            displayName: defs.DisplayName[keyId],\n        };\n    };\n}\nfunction getKeyId(defs, val) {\n    var _a;\n    val = val.toLowerCase();\n    return (_a = defs.NormalizeMap[val]) !== null && _a !== void 0 ? _a : val;\n}\nfunction renderKey(key) {\n    var _a;\n    return (_a = key.displayName) !== null && _a !== void 0 ? _a : capitalize(key.id);\n}\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,mBAAmB;AAC1C,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,KAAK,QAAQ,SAAS;AAC/B,MAAMC,gBAAgB,GAAG,IAAI;AAC7B,MAAMC,cAAc,GAAG,GAAG;AAC1B,OAAO,SAASC,cAAcA,CAACC,IAAI,EAAEC,KAAK,EAAE;EACxC,OAAOL,KAAK,CAACK,KAAK,EAAEJ,gBAAgB,CAAC,CAACK,GAAG,CAAEC,IAAI,IAAKR,MAAM,CAACC,KAAK,CAACO,IAAI,EAAEL,cAAc,CAAC,CACjFI,GAAG,CAACE,SAAS,CAACJ,IAAI,CAAC,CAAC,CACpBK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,QAAQ,GAAGF,CAAC,CAACE,QAAQ,CAAC;EAAE;EAC7CC,GAAG,IAAKA,GAAG,CAACC,EAAE,CAAC,CAACR,GAAG,CAACS,SAAS,CAAC,CAAC;AACpC;AACA,SAASP,SAASA,CAACJ,IAAI,EAAE;EACrB,OAAO,UAAUY,GAAG,EAAE;IAClB,IAAIC,EAAE;IACN,MAAMC,KAAK,GAAGC,QAAQ,CAACf,IAAI,EAAEY,GAAG,CAAC;IACjC,OAAO;MACHA,GAAG;MACHF,EAAE,EAAEI,KAAK;MACTN,QAAQ,EAAE,CAACK,EAAE,GAAGb,IAAI,CAACgB,QAAQ,CAACF,KAAK,CAAC,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAAC;MACxEI,WAAW,EAAEjB,IAAI,CAACkB,WAAW,CAACJ,KAAK;IACvC,CAAC;EACL,CAAC;AACL;AACA,SAASC,QAAQA,CAACf,IAAI,EAAEmB,GAAG,EAAE;EACzB,IAAIN,EAAE;EACNM,GAAG,GAAGA,GAAG,CAACC,WAAW,CAAC,CAAC;EACvB,OAAO,CAACP,EAAE,GAAGb,IAAI,CAACqB,YAAY,CAACF,GAAG,CAAC,MAAM,IAAI,IAAIN,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGM,GAAG;AAC7E;AACA,SAASR,SAASA,CAACF,GAAG,EAAE;EACpB,IAAII,EAAE;EACN,OAAO,CAACA,EAAE,GAAGJ,GAAG,CAACQ,WAAW,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGnB,UAAU,CAACe,GAAG,CAACC,EAAE,CAAC;AACrF"},"metadata":{},"sourceType":"module","externalDependencies":[]}